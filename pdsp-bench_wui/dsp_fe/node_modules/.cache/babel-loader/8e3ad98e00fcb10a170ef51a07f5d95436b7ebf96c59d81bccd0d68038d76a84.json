{"ast":null,"code":"import logo from '@/assets/logo.webp';\nimport bg from \"@/assets/bg.jpg\";\nimport axios from 'axios';\nexport default {\n  name: 'RegistrationPage',\n  components: {},\n  data() {\n    return {\n      url: process.env.VUE_APP_URL,\n      dsplogo: logo,\n      bgImg: bg,\n      email: '',\n      username: '',\n      password: '',\n      retypePassword: '',\n      problem: false,\n      problemmsg: '',\n      alerttype: '',\n      nameRules: [v => !!v || 'Name is required', v => v.length <= 10 || 'Name must be less than 10 characters'],\n      emailRules: [v => !!v || 'E-mail is required', v => /.+@.+/.test(v) || 'E-mail must be valid'],\n      rules: {\n        required: value => !!value || 'Required.',\n        min: v => v.length >= 8 || 'Min 8 characters'\n      }\n    };\n  },\n  computed: {\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('setSnackbar', value);\n      }\n    }\n  },\n  methods: {\n    async registerUser() {\n      /* check if the fields are filled */\n\n      /* Check is password fields are matching */\n      this.problem = false;\n      if (this.password != this.retypePassword) {\n        this.problem = !this.problem;\n        this.problemmsg = 'passwords dont match';\n        this.alerttype = 'error';\n        return;\n      } else if (this.username.length == 0 || this.email.length == 0) {\n        this.problem = !this.problem;\n        this.problemmsg = 'please provide username and email address';\n        this.alerttype = 'error';\n        return;\n      }\n      /* Aggregating the form elements into 'data' variable */\n      var data = {\n        username: this.username,\n        password: this.password,\n        email: this.email\n      };\n      /* Send Request to backend */\n      await axios.post(this.url + ':8000/auth/register', data).then(async response => {\n        var resp = await response.data;\n        if (resp.success) {\n          this.problem = !this.problem;\n          this.problemmsg = resp.status;\n          this.alerttype = 'success';\n          this.snackbar = {\n            view: true,\n            timeout: 3000,\n            text: 'Please accept email sent to your email address',\n            color: 'primary'\n          };\n        }\n      }).catch(async error => {\n        var err = await error.response.data;\n        console.log(err.success);\n        this.problem = !this.problem;\n        this.problemmsg = err.status;\n        console.log(err.status);\n        this.alerttype = 'error';\n        this.snackbar = {\n          view: true,\n          timeout: 8000,\n          text: 'Please fill the form correctly',\n          color: 'error'\n        };\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAoGA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,YACAC,gCACAA,8DACA;MACAC,aACAD,kCACAA,+CACA;MACAE;QACAC;QACAC;MACA;IAKA;EACA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;EAIA;EACAC;IACA;MAGA;;MAEA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;MACA;QACAhB;QACAC;QACAF;MACA;MACA;MACA,YACAkB,6CACAC;QACA;QACA;UACA;UACA;UACA;UACA;YACAC;YACAC;YACAC;YACAC;UACA;QACA;MACA,GACAC;QACA;QACAC;QACA;QACA;QACAA;QACA;QACA;UACAL;UACAC;UACAC;UACAC;QACA;MACA;IAGA;EACA;AACA","names":["name","components","data","url","dsplogo","bgImg","email","username","password","retypePassword","problem","problemmsg","alerttype","nameRules","v","emailRules","rules","required","min","computed","snackbar","get","set","methods","post","then","view","timeout","text","color","catch","console"],"sourceRoot":"src/views","sources":["RegistrationPage.vue"],"sourcesContent":["<template>\n    <v-card class=\"ma-0 pa-0\" max-width=\"100%\" height=\"100vh\">\n  \n      <v-card-text class=\"ma-0 pa-0\" style=\"height:100%\">\n        <v-row style=\"height:100%\" class=\"ma-0 pa-0\">\n          <v-col cols=\"12\" class=\"ma-0 pa-0\">\n            <v-card width=\"100%\" height=\"100%\" class=\"pa-16 rounded-lg\" :img=\"bgImg\">\n  \n              <v-card style=\"position: absolute; top: 50%;left: 50%;transform: translate(-50%, -50%);\" width=\"20%\" class=\"pa-2\">\n  \n                <div class=\"pa-16 rounded-lg primary\">\n                  \n                    <v-img contain :aspect-ratio=\"16/9\" color=\"white\" :src=\"dsplogo\" ></v-img>\n  \n                </div>\n  \n  \n                <v-card-text class=\"mt-4 justify-center\">\n                <div style=\"text-align: center;\" class=\"mb-5 text-h5 primary--text\"><b>Register for KOM: DSP Benchmarking</b></div>\n                <v-row>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      v-model=\"username\"\n                      :rules=\"nameRules\"\n                      label=\"Username\"\n                      clearable\n                      outlined\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      v-model=\"email\"\n                      label=\"Email\"\n                      :rules=\"emailRules\"\n                      clearable\n                      outlined\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      type=\"password\"\n                      v-model=\"password\"\n                      label=\"Password\"\n                      :rules=\"[rules.required, rules.min]\"\n                      clearable\n                      outlined\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      type=\"password\"\n                      v-model=\"retypePassword\"\n                      label=\"Retype password\"\n                      :rules=\"[rules.required, rules.min]\"\n                      clearable\n                      outlined\n                    ></v-text-field>\n                  </v-col>\n                  <v-col  v-if=\"problem\" >\n                    <v-alert \n                      dense\n                      outlined\n                      :type=alerttype\n                     \n                      \n                    >\n                    {{problemmsg}}\n                    </v-alert>\n                  </v-col>\n                </v-row>    \n                    \n                <!-- $router.push('dashboard/createCluster') -->\n                  <v-btn  color=\"primary\"  class=\"mt-6\" block rounded small  @click=\"registerUser()\">\n                    \n                    <b> Register </b>\n                  </v-btn>\n                </v-card-text>\n  \n                <v-divider class=\"mx-4\"></v-divider>\n  \n  \n  \n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" small rounded text @click=\"$router.push('/')\">\n                        Go to login\n                    </v-btn>\n                   \n                </v-card-actions>\n              </v-card>\n  \n            </v-card>\n          </v-col>\n  \n        </v-row>\n  \n      </v-card-text>\n    </v-card>\n</template> \n<script>\nimport logo from '@/assets/logo.webp';\nimport bg from \"@/assets/bg.jpg\";\nimport axios from 'axios';\nexport default {\n    name: 'RegistrationPage',\n    components:{},\n    data() {\n        return {\n            url: process.env.VUE_APP_URL,\n            dsplogo:logo,\n            bgImg:bg,\n            email:'',\n            username: '',\n            password:'',\n            retypePassword:'',\n            problem:false,\n            problemmsg:'',\n            alerttype:'',\n            nameRules: [\n              v => !!v || 'Name is required',\n              v => v.length <= 10 || 'Name must be less than 10 characters',\n           ],\n            emailRules: [\n              v => !!v || 'E-mail is required',\n              v => /.+@.+/.test(v) || 'E-mail must be valid',\n            ],\n            rules: {\n              required: value => !!value || 'Required.',\n              min: v => v.length >= 8 || 'Min 8 characters'\n            }\n\n\n\n            \n        };\n    },\n    computed:{\n        snackbar: {\n          get() {\n            return this.$store.state.snackbar;\n          },\n          set(value) {\n            this.$store.commit('setSnackbar', value);\n          },\n        },\n        \n\n       \n    },\n    methods:{\n      async registerUser(){\n        \n        \n        /* check if the fields are filled */\n      \n        /* Check is password fields are matching */\n        this.problem = false\n        if(this.password != this.retypePassword){\n          this.problem = !this.problem\n          this.problemmsg = 'passwords dont match'\n          this.alerttype = 'error'\n          return\n        } else if(this.username.length == 0 || this.email.length == 0){\n          this.problem = !this.problem \n          this.problemmsg = 'please provide username and email address'\n          this.alerttype = 'error'\n          return\n        }\n        /* Aggregating the form elements into 'data' variable */\n        var data = {\n          username: this.username,\n          password: this.password,\n          email: this.email\n        }\n        /* Send Request to backend */\n        await axios\n        .post(this.url+':8000/auth/register', data)\n        .then(async (response) => {\n          var resp = await response.data;\n          if(resp.success){\n            this.problem = !this.problem\n            this.problemmsg = resp.status\n            this.alerttype = 'success'\n            this.snackbar = {\n              view: true,\n              timeout: 3000,\n              text: 'Please accept email sent to your email address',\n              color: 'primary'\n            };\n          }\n        })\n        .catch(async (error) => {\n          var err = await error.response.data;\n          console.log(err.success);\n          this.problem = !this.problem\n          this.problemmsg = err.status\n          console.log(err.status);\n          this.alerttype = 'error'\n          this.snackbar = {\n            view: true,\n            timeout: 8000,\n            text: 'Please fill the form correctly',\n            color: 'error'\n          };\n        }); \n\n\n      }\n    }\n};\n</script>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}