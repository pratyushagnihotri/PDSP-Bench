{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'ExploreCloudlabNode',\n  data() {\n    return {\n      showLogsDialogue: false,\n      output: null,\n      deployLogs: false,\n      showProgress: false,\n      addWorkerNodeDialog: false,\n      nodeWorkerName: '',\n      cluster_worker_nodes: [],\n      url: process.env.VUE_APP_URL,\n      workernodetableheaders: [{\n        text: \"Worker Node domain\",\n        align: 'left',\n        value: 'worker_node'\n      }, {\n        text: \"Action\",\n        value: 'actions'\n      }],\n      clusters: [],\n      cluster_name: '',\n      cluster_master_node: '',\n      cluster_username: '',\n      cluster_dockerhub_username: '',\n      cluster_dockerhub_repo_name: '',\n      cluster_dockerhub_registry_readwrite_key: '',\n      cluster_dockerhub_registry_readonly_key: '',\n      cluster_private_key: '',\n      searchTerm: '',\n      clustertableheaders: [{\n        text: \"Cluster's Name\",\n        align: 'left',\n        value: 'cluster_name'\n      }, {\n        text: \"Cluster's Username\",\n        align: 'left',\n        value: 'cluster_username'\n      },\n      //{ text: \"Cluster's private key\", align: 'left', value: 'cluster_private_key' },\n      {\n        text: \"Cluster's Dockerhub username\",\n        align: 'left',\n        value: 'cluster_dockerhub_username'\n      }, {\n        text: \"Cluster's Dockerhub repo name\",\n        align: 'left',\n        value: 'cluster_dockerhub_repo_name'\n      },\n      //{ text: \"Cluster's Dockerhub R&W key\", align: 'left', value: 'cluster_dockerhub_registry_readwrite_key' },\n      //{ text: \"Cluster's Dockerhub read key\", align: 'left', value: 'cluster_dockerhub_registry_readonly_key' },\n      {\n        text: \"Master Node\",\n        align: 'left',\n        value: 'cluster_master_node'\n      }, {\n        text: \"Worker Nodes\",\n        align: 'left',\n        value: 'cluster_worker_nodes'\n      }, {\n        text: \"Action\",\n        value: 'action'\n      }]\n    };\n  },\n  async mounted() {\n    this.refresh();\n  },\n  methods: {\n    async addWorkerNode() {\n      this.cluster_worker_nodes.push({\n        'worker_node': this.nodeWorkerName,\n        'actions': ''\n      });\n    },\n    deleteWorkerNode(node) {\n      this.indexOfItem = this.cluster_worker_nodes.indexOf(node);\n      this.cluster_worker_nodes.splice(this.indexOfItem, 1);\n    },\n    async createCluster() {\n      var sendData = {\n        'cluster_name': this.cluster_name,\n        'cluster_username': this.cluster_username,\n        'cluster_dockerhub_username': this.cluster_dockerhub_username,\n        'cluster_dockerhub_repo_name': this.cluster_dockerhub_repo_name,\n        'cluster_dockerhub_registry_readwrite_key': this.cluster_dockerhub_registry_readwrite_key,\n        'cluster_dockerhub_registry_readonly_key': this.cluster_dockerhub_registry_readonly_key,\n        'cluster_master_node': this.cluster_master_node,\n        'cluster_worker_nodes': this.cluster_worker_nodes,\n        'cluster_private_key': this.cluster_private_key,\n        'action': ''\n      };\n      await axios.post(this.url + \":8000/datagen/clustercreate\", sendData).then(resp => {\n        console.log(resp.data);\n        console.log(resp);\n        if (resp.data.success) {\n          this.snackbar = {\n            view: true,\n            timeout: 8000,\n            text: resp.data.status,\n            color: 'success'\n          };\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n      this.refresh();\n    },\n    async deleteCluster(cluster) {\n      var sendData = {\n        'cluster_name': cluster.cluster_name\n      };\n      await axios.delete(this.url + \":8000/datagen/clustercreate\", {\n        data: sendData\n      }).then(resp => {\n        var respData = resp.data.list_of_clusters;\n        this.clusters = respData;\n      }).catch(err => {\n        console.log(err);\n      });\n      this.refresh();\n    },\n    async deployCluster(cluster) {\n      this.showProgress = true;\n      var sendData = {\n        'cluster_name': cluster.cluster_name,\n        'cluster_username': cluster.cluster_username,\n        'cluster_dockerhub_username': cluster.cluster_dockerhub_username,\n        'cluster_dockerhub_repo_name': cluster.cluster_dockerhub_repo_name,\n        'cluster_dockerhub_registry_readwrite_key': cluster.cluster_dockerhub_registry_readwrite_key,\n        'cluster_dockerhub_registry_readonly_key': cluster.cluster_dockerhub_registry_readonly_key,\n        'cluster_master_node': cluster.cluster_master_node,\n        'cluster_worker_nodes': cluster.cluster_worker_nodes,\n        'cluster_private_key': cluster.cluster_private_key\n      };\n      await axios.post(this.url + \":8000/datagen/clusterdeploy\", sendData).then(resp => {\n        this.showProgress = false;\n        this.deployLogs = true;\n        var respData = resp.data;\n        console.log(respData);\n        if (respData.success) {\n          this.snackbar = {\n            view: true,\n            timeout: 8000,\n            text: respData.status,\n            color: 'success'\n          };\n        }\n        this.output = resp.data.output;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async refresh() {\n      await axios.get(this.url + \":8000/datagen/clustercreate\").then(resp => {\n        var respData = resp.data.list_of_clusters;\n        this.clusters = respData;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    showLogs() {\n      if (this.output != null) {\n        this.showLogsDialogue = true;\n      }\n    }\n  },\n  computed: {\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('setSnackbar', value);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AA8LA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,yBACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAE;MAAA,EACA;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,sBACA;QAAAb;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA;MACA;MACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA;MACA;MACA;MACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAE;MAAA;IAGA;EACA;EACA;IACA;EACA;EACAY;IAEA;MACA;QAAA;QAAA;MAAA;IACA;IACAC;MACA;MACA;IACA;IACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA,YACAC,yDACAC;QAEAC;QACAA;QACA;UACA;YACAC;YACAC;YACApB;YACAqB;UACA;QAEA;MACA,GACAC;QACAJ;MACA;MACA;IACA;IACA;MACA;QACA;MACA;MACA,YACAK;QAAAjC;MAAA,GACA2B;QAEA;QAEA;MAGA,GACAK;QACAJ;MACA;MACA;IAEA;IACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA,YACAF,yDACAC;QACA;QACA;QACA;QACAC;QACA;UACA;YACAC;YACAC;YACApB;YACAqB;UACA;QAEA;QACA;MACA,GACAC;QACAJ;MACA;IAGA;IACA;MACA,YACAM,8CACAP;QAEA;QAEA;MAGA,GACAK;QACAJ;MACA;IACA;IACAO;MACA;QACA;MACA;IAEA;EAEA;EACAC;IACAC;MACAH;QACA;MACA;MACAI;QACA;MACA;IACA;EACA;AACA","names":["name","data","showLogsDialogue","output","deployLogs","showProgress","addWorkerNodeDialog","nodeWorkerName","cluster_worker_nodes","url","workernodetableheaders","text","align","value","clusters","cluster_name","cluster_master_node","cluster_username","cluster_dockerhub_username","cluster_dockerhub_repo_name","cluster_dockerhub_registry_readwrite_key","cluster_dockerhub_registry_readonly_key","cluster_private_key","searchTerm","clustertableheaders","methods","deleteWorkerNode","post","then","console","view","timeout","color","catch","delete","get","showLogs","computed","snackbar","set"],"sourceRoot":"src/views/dashboard","sources":["ExploreDataGeneratorNodes.vue"],"sourcesContent":["<template>\n    <div>\n        <v-hover class=\"mt-12\" v-slot:default=\"{ hover }\">\n            <v-card class=\"my-6 pa-0\" :elevation=\"hover ? 24 : 6\">\n                <v-card-title>\n                    <v-sheet color=\"primary\" elevation=\"16\"\n                        class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                        <h3>Explore Data Generator Cluster</h3>\n                    </v-sheet>\n                </v-card-title>\n                <v-card-text>\n\n                    <v-text-field v-model=\"searchTerm\" placeholder=\"Search\"></v-text-field>\n                    <v-data-table :headers=\"clustertableheaders\" :items=\"clusters\" :search=\"searchTerm\"\n                        class=\"flex-grow-1 elevation-1\" item-key=\"cluster_name\" show-expand>\n                        <template v-slot:expanded-item=\"{ headers, item }\">\n                            <v-container>\n                                <td :colspan=\"headers.length\">\n                                    <p v-for=\"(value, key) in item\" :key=\"key\">\n                                        <b v-if=\"key != 'action'\">{{ key }}: {{ value }}</b>\n                                    </p>\n                                </td>\n\n\n                            </v-container>\n                        </template>\n                        <template #[`item.action`]=\"{ item }\">\n                           \n                                 <div class=\"actions\">\n                                    \n                                    <v-col-3 >\n                                        <v-btn color=\"error\" @click=\"deleteCluster(item)\" small>\n                                            Delete\n                                        </v-btn>\n                                    </v-col-3>\n                                    <v-col-3>\n\n                                        <v-btn color=\"primary\" @click=\"deployCluster(item)\" small>\n                                            Deploy\n                                        </v-btn>\n                                    </v-col-3>\n                                    <v-col-3>\n                                        <v-btn v-if=\"deployLogs == true\" variant=\"text\" color=\"success\" @click=\"showLogs()\"\n                                            small>\n                                            Deployment logs\n                                        </v-btn>\n                                    </v-col-3>\n\n                               \n\n                               </div>\n                            \n                        </template>\n\n                    </v-data-table>\n                </v-card-text>\n            </v-card>\n        </v-hover>\n        <v-hover class=\"mt-12\" v-slot:default=\"{ hover }\">\n            <v-card class=\"my-6 pa-0\" :elevation=\"hover ? 24 : 6\">\n                <v-card-title>\n                    <v-sheet color=\"primary\" elevation=\"16\"\n                        class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                        <h3>Add Data Generator Cluster</h3>\n\n\n                    </v-sheet>\n                </v-card-title>\n\n                <v-card-text class=\"pa-10\">\n                    <v-row class=\"mt-6\">\n                        <v-col cols=\"6\">\n                            <v-text-field background-color=\"white\" color=\"black\" v-model=\"cluster_name\" label=\"Cluster name\"\n                                outlined clearable></v-text-field>\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-text-field background-color=\"white\" color=\"black\" v-model=\"cluster_master_node\"\n                                label=\"Cluster's Master node\" outlined clearable></v-text-field>\n                        </v-col>\n\n                        <v-col cols=\"6\">\n                            <v-text-field background-color=\"white\" color=\"black\" v-model=\"cluster_username\"\n                                label=\"Cluster's Username'\" outlined clearable></v-text-field>\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-text-field background-color=\"white\" color=\"black\" v-model=\"cluster_dockerhub_repo_name\"\n                                label=\"Cluster's dockerhub repo name\" outlined clearable></v-text-field>\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-text-field background-color=\"white\" color=\"black\" v-model=\"cluster_dockerhub_username\"\n                                label=\"Cluster's dockerhub username\" outlined clearable></v-text-field>\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-textarea background-color=\"white\" color=\"black\"\n                                v-model=\"cluster_dockerhub_registry_readwrite_key\"\n                                label=\"Cluster's dockerhub registry read write key\" outlined clearable></v-textarea>\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-textarea background-color=\"white\" color=\"black\"\n                                v-model=\"cluster_dockerhub_registry_readonly_key\"\n                                label=\"Cluster's dockerhub registry read only key\" outlined clearable></v-textarea>\n                        </v-col>\n                        <v-col cols=\"6\">\n                            <v-textarea background-color=\"white\" color=\"black\" v-model=\"cluster_private_key\"\n                                label=\"Cluster's private key\" outlined clearable></v-textarea>\n                        </v-col>\n                    </v-row>\n                    <v-container class=\"text-center\">\n                        <v-btn color=\"primary\" dark class=\"mb-2\" @click=\"addWorkerNodeDialog = true\">\n                            Add Worker node\n                        </v-btn>\n                        <v-data-table :headers=\"workernodetableheaders\" :items=\"cluster_worker_nodes\">\n                            <template v-slot:[`item.actions`]=\"{ item }\">\n                                <v-icon small @click=\"deleteWorkerNode(item)\">\n                                    mdi-delete\n                                </v-icon>\n                            </template>\n                        </v-data-table>\n                    </v-container>\n\n                </v-card-text>\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" class=\"ma-4\" elevation=\"3\" @click=\"createCluster()\">\n                        <b>Create Cluster</b>\n                    </v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-hover>\n        <v-dialog width=\"50%\" v-model=\"addWorkerNodeDialog\">\n            <v-card class=\"pa-2\" dark>\n                <v-card-title>Worker Nodes</v-card-title>\n                <v-card-text>\n                    <v-text-field outlined label=\"Worker Node's Host name\" v-model=\"nodeWorkerName\" clearable />\n\n                </v-card-text>\n                <v-card-actions>\n                    <v-spacer />\n                    <v-btn small class=\"success\" @click=\"addWorkerNodeDialog = false; addWorkerNode();\"> Add worker\n                        node</v-btn>\n\n                </v-card-actions>\n\n            </v-card>\n        </v-dialog>\n        <v-dialog width=\"50%\" v-model=\" showProgress \">\n            <v-card color=\"primary\">\n                <v-card-title class=\"white--text\">Please wait <v-progress-linear color=\"deep-purple green\" indeterminate\n                        rounded height=\"6\"></v-progress-linear></v-card-title>\n                <v-card-text color=\"primary\">\n                    <v-list dense color=\"primary\" class=\"white--text\">\n                        <v-list-item class=\"white--text\">\n                            Creating Remote Cluster key\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            Writing Master Node file\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            Writing Worker Node File\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            Processing Dockerhub Information\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            Setting up Kubernetes cluster\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            Starting Flink and Plan Generator on Kubernetes cluster\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            This might take 15-20 minutes....\n                        </v-list-item>\n\n                    </v-list>\n                </v-card-text>\n\n            </v-card>\n        </v-dialog>\n        <v-dialog width=\"50%\" v-model=\" showLogsDialogue \">\n            <v-card color=\"primary\">\n                <v-card-title class=\"white--text\">logs</v-card-title>\n                <v-card-text color=\"primary\" class=\"white--text\">\n                    {{ this.output }}\n                </v-card-text>\n\n            </v-card>\n        </v-dialog>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'ExploreCloudlabNode',\n    data() {\n        return {\n            showLogsDialogue: false,\n            output: null,\n            deployLogs: false,\n            showProgress: false,\n            addWorkerNodeDialog: false,\n            nodeWorkerName: '',\n            cluster_worker_nodes: [],\n            url: process.env.VUE_APP_URL,\n            workernodetableheaders: [\n                { text: \"Worker Node domain\", align: 'left', value: 'worker_node' },\n                { text: \"Action\", value: 'actions' }\n            ],\n\n            clusters: [],\n            cluster_name: '',\n            cluster_master_node: '',\n            cluster_username: '',\n            cluster_dockerhub_username: '',\n            cluster_dockerhub_repo_name: '',\n            cluster_dockerhub_registry_readwrite_key: '',\n            cluster_dockerhub_registry_readonly_key: '',\n            cluster_private_key: '',\n            searchTerm: '',\n            clustertableheaders: [\n                { text: \"Cluster's Name\", align: 'left', value: 'cluster_name' },\n                { text: \"Cluster's Username\", align: 'left', value: 'cluster_username' },\n                //{ text: \"Cluster's private key\", align: 'left', value: 'cluster_private_key' },\n                { text: \"Cluster's Dockerhub username\", align: 'left', value: 'cluster_dockerhub_username' },\n                { text: \"Cluster's Dockerhub repo name\", align: 'left', value: 'cluster_dockerhub_repo_name' },\n                //{ text: \"Cluster's Dockerhub R&W key\", align: 'left', value: 'cluster_dockerhub_registry_readwrite_key' },\n                //{ text: \"Cluster's Dockerhub read key\", align: 'left', value: 'cluster_dockerhub_registry_readonly_key' },\n                { text: \"Master Node\", align: 'left', value: 'cluster_master_node' },\n                { text: \"Worker Nodes\", align: 'left', value: 'cluster_worker_nodes' },\n                { text: \"Action\", value: 'action' }\n            ]\n\n        }\n    },\n    async mounted() {\n        this.refresh();\n    },\n    methods: {\n\n        async addWorkerNode() {\n            this.cluster_worker_nodes.push({ 'worker_node': this.nodeWorkerName, 'actions': '' })\n        },\n        deleteWorkerNode(node) {\n            this.indexOfItem = this.cluster_worker_nodes.indexOf(node)\n            this.cluster_worker_nodes.splice(this.indexOfItem, 1)\n        },\n        async createCluster() {\n            var sendData = {\n                'cluster_name': this.cluster_name,\n                'cluster_username': this.cluster_username,\n                'cluster_dockerhub_username': this.cluster_dockerhub_username,\n                'cluster_dockerhub_repo_name': this.cluster_dockerhub_repo_name,\n                'cluster_dockerhub_registry_readwrite_key': this.cluster_dockerhub_registry_readwrite_key,\n                'cluster_dockerhub_registry_readonly_key': this.cluster_dockerhub_registry_readonly_key,\n                'cluster_master_node': this.cluster_master_node,\n                'cluster_worker_nodes': this.cluster_worker_nodes,\n                'cluster_private_key': this.cluster_private_key,\n                'action': ''\n            }\n            await axios\n                .post(this.url + \":8000/datagen/clustercreate\", sendData)\n                .then((resp) => {\n\n                    console.log(resp.data);\n                    console.log(resp);\n                    if (resp.data.success) {\n                        this.snackbar = {\n                            view: true,\n                            timeout: 8000,\n                            text: resp.data.status,\n                            color: 'success'\n                        };\n\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n            this.refresh();\n        },\n        async deleteCluster(cluster) {\n            var sendData = {\n                'cluster_name': cluster.cluster_name\n            }\n            await axios\n                .delete(this.url + \":8000/datagen/clustercreate\", { data: sendData })\n                .then((resp) => {\n\n                    var respData = resp.data.list_of_clusters\n\n                    this.clusters = respData\n\n\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n            this.refresh();\n\n        },\n        async deployCluster(cluster) {\n            this.showProgress = true;\n            var sendData = {\n                'cluster_name': cluster.cluster_name,\n                'cluster_username': cluster.cluster_username,\n                'cluster_dockerhub_username': cluster.cluster_dockerhub_username,\n                'cluster_dockerhub_repo_name': cluster.cluster_dockerhub_repo_name,\n                'cluster_dockerhub_registry_readwrite_key': cluster.cluster_dockerhub_registry_readwrite_key,\n                'cluster_dockerhub_registry_readonly_key': cluster.cluster_dockerhub_registry_readonly_key,\n                'cluster_master_node': cluster.cluster_master_node,\n                'cluster_worker_nodes': cluster.cluster_worker_nodes,\n                'cluster_private_key': cluster.cluster_private_key,\n            }\n            await axios\n                .post(this.url + \":8000/datagen/clusterdeploy\", sendData)\n                .then((resp) => {\n                    this.showProgress = false;\n                    this.deployLogs = true;\n                    var respData = resp.data\n                    console.log(respData)\n                    if (respData.success) {\n                        this.snackbar = {\n                            view: true,\n                            timeout: 8000,\n                            text: respData.status,\n                            color: 'success'\n                        };\n\n                    }\n                    this.output = resp.data.output\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n\n        },\n        async refresh() {\n            await axios\n                .get(this.url + \":8000/datagen/clustercreate\")\n                .then((resp) => {\n\n                    var respData = resp.data.list_of_clusters\n\n                    this.clusters = respData\n\n\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        },\n        showLogs() {\n            if (this.output != null) {\n                this.showLogsDialogue = true\n            }\n\n        }\n\n    },\n    computed: {\n        snackbar: {\n            get() {\n                return this.$store.state.snackbar;\n            },\n            set(value) {\n                this.$store.commit('setSnackbar', value);\n            },\n        }\n    },\n}\n</script>\n<style></style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}