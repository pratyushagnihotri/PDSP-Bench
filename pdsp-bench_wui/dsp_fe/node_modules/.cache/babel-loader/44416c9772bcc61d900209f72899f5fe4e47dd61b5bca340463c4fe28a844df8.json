{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport * as d3 from 'd3';\nexport default {\n  name: 'DataAnalysis',\n  data() {\n    return {\n      jobGivenName: '',\n      selected: [],\n      showCompareDialog: false,\n      name_of_clusters: [],\n      url: process.env.VUE_APP_URL,\n      list_of_all_clusters: [],\n      list_of_jobs: [],\n      list_of_analysis_options: ['Entire Query', 'Operator'],\n      list_of_query_metrics: ['Latency', 'Throughput', 'N/W Utilization', 'CPU Utilization', 'Memory Utilization'],\n      list_of_operators: [],\n      list_of_operator_metrics: ['Processing Latency 98th percentile', 'Processing Latency 95th percentile', 'Selectivity', 'Processing Latency median'],\n      list_of_sources: ['Cluster', 'Artifacts'],\n      source: 'Cluster',\n      cname: null,\n      job: '',\n      artifact: '',\n      jid: '',\n      aid: '',\n      cluster_main_node_ip: '',\n      jobInfo: {},\n      jobs: [],\n      artifacts: [],\n      jobsAndOperators: [{\n        name: 'Flink word count job',\n        operators: [{\n          name: \"tokenizer\"\n        }, {\n          name: \"counter\"\n        }]\n      }, {\n        name: 'Flink smart grid job',\n        operators: [{\n          name: \"global average load\"\n        }, {\n          name: \"local average load\"\n        }]\n      }, {\n        name: 'Ads Analytics',\n        operators: [{\n          name: \"click-parser\"\n        }, {\n          name: \"impression-parser\"\n        }, {\n          name: \"clicks-counter\"\n        }, {\n          name: \"impressions-counter\"\n        }, {\n          name: \"rollingCTR\"\n        }]\n      }, {\n        name: 'Google Cloud Monitoring',\n        operators: [{\n          name: \"parser\"\n        }, {\n          name: \"average-cpu-per-category\"\n        }, {\n          name: \"average-cpu-per-job\"\n        }]\n      }, {\n        name: \"Sentiment Analysis\",\n        operators: [{\n          name: \"twitter-parser\"\n        }, {\n          name: \"twitter-analyser\"\n        }]\n      }, {\n        name: \"Spike Detection\",\n        operators: [{\n          name: \"parser\"\n        }, {\n          name: \"average-calculator\"\n        }, {\n          name: \"spike-detector\"\n        }]\n      }, {\n        name: \"Logs Processing\",\n        operators: [{\n          name: \"Log-parser\"\n        }, {\n          name: \"volume-counter\"\n        }, {\n          name: \"status-counter\"\n        }]\n      }, {\n        name: \"Trending Topics\",\n        operators: [{\n          name: \"twitter-parser\"\n        }, {\n          name: \"topic-extractor\"\n        }, {\n          name: \"popularity-detector\"\n        }]\n      }, {\n        name: \"Bargain Index\",\n        operators: [{\n          name: \"quote-parser\"\n        }, {\n          name: \"VWAP-operator\"\n        }, {\n          name: \"bargain-index-calculator\"\n        }]\n      }, {\n        name: \"Click Analytics\",\n        operators: [{\n          name: \"click-log-parser\"\n        }, {\n          name: \"repeat-visit\"\n        }, {\n          name: \"reduce-operation\"\n        }, {\n          name: \"geography-visit\"\n        }]\n      }, {\n        name: \"Linear Road\",\n        operators: [{\n          name: \"Vehicle-event-parser\"\n        }, {\n          name: \"toll-notification\"\n        }, {\n          name: \"formatter-toll-notification\"\n        }, {\n          name: \"accident-notification\"\n        }, {\n          name: \"formatter-accident-notification\"\n        }, {\n          name: \"daily-expenditure\"\n        }, {\n          name: \"vehicle-report-mapper\"\n        }]\n      }, {\n        name: \"TPCH\",\n        operators: [{\n          name: \"tpch-event-parser\"\n        }, {\n          name: \"tpch-data-filter\"\n        }, {\n          name: \"tpch-flat-mapper\"\n        }, {\n          name: \"priority-counter\"\n        }, {\n          name: \"formatter\"\n        }]\n      }, {\n        name: \"Machine Outlier\",\n        operators: [{\n          name: \"machine-usage-parser\"\n        }, {\n          name: \"machine-usage-grouper\"\n        }, {\n          name: \"outlier-detector\"\n        }]\n      }, {\n        name: \"Traffic Monitoring\",\n        operators: [{\n          name: \"traffic-event-parser\"\n        }, {\n          name: \"road-matcher\"\n        }, {\n          name: \"avg-speed\"\n        }, {\n          name: \"formatter\"\n        }]\n      }],\n      analysis_of: '',\n      chosen_query_metrics: null,\n      chosen_operator: '',\n      chosen_operator_metrics: null,\n      showQueryMetrics: false,\n      showOperatorMetrics: false,\n      array_of_individual_user_selections: [],\n      array_of_compare_user_selection: [],\n      graphs: [],\n      opName: '',\n      parallOp: '',\n      givenOpName: ''\n    };\n  },\n  computed: {\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('setSnackbar', value);\n      }\n    },\n    isBtnDisabled() {\n      return this.chosen_query_metrics === null && this.chosen_operator_metrics === null;\n    }\n  },\n  methods: {\n    async showComparisonOptions() {\n      this.showCompareDialog = true;\n    },\n    async finishCompareInputs() {\n      this.array_of_compare_user_selection.push(this.selected);\n      //console.log('these are the graph I want to compare');\n      //console.log(this.selected)\n      this.showCompareDialog = false;\n      console.log(this.selected);\n      //console.log(this.selected)\n      //var resultingGraphData = []\n      await axios.post(this.url + ':8000/report/getCompareGraphData', this.selected).then(async resp => {\n        await resp.data;\n        console.log(\"data from backend for comparison plot\");\n        console.log(resp.data);\n        var container2DisplayOn = \"#comparechartContainer\" + (this.array_of_compare_user_selection.length - 1);\n        if (this.selected[0][\"selected_analysis_type\"] == \"Operator\") {\n          if (this.selected[0][\"selected_operator_metrics\"] == \"Selectivity\") {\n            var barData = {};\n            for (var bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              var intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'Selectivity', \"\", barData, 'Operators', 'Selectivity');\n            return;\n          } else if (this.selected[0][\"selected_operator_metrics\"] == \"Processing Latency 98th percentile\") {\n            console.log('in 98th percentile');\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'lat-98', \"\", barData, 'Operators', 'milliseconds');\n            return;\n          } else if (this.selected[0][\"selected_operator_metrics\"] == \"Processing Latency 95th percentile\") {\n            console.log('in 95th percentile');\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'lat-95', \"\", barData, 'Operators', 'milliseconds');\n            return;\n          } else if (this.selected[0][\"selected_operator_metrics\"] == \"Processing Latency median\") {\n            console.log('median');\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'lat-median', \"\", barData, 'Operators', 'milliseconds');\n            return;\n          }\n        } else if (this.selected[0][\"selected_analysis_type\"] == \"Entire Query\") {\n          console.log(resp.data);\n          //let dataCount=0;\n          //let lineDataCount=0;\n          if (this.selected[0][\"selected_query_metrics\"] == \"Throughput\") {\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'Throughput', \"\", barData, 'jobs', 'Records/Sec');\n            return;\n          } else if (this.selected[0][\"selected_query_metrics\"] == \"N/W Utilization\") {\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n              console.log(barData);\n            }\n            this.plotHistogram(container2DisplayOn, 'N/W Usage', \"\", barData, 'jobs', 'Bytes/Sec');\n            return;\n\n            /* for(dataCount=0; dataCount<resp.data.length; dataCount++) {\n                for(lineDataCount = 0; lineDataCount< resp.data[dataCount][\"data\"][\"result\"].length; lineDataCount++) {\n                    resultingGraphData.push(resp.data[dataCount][\"data\"][\"result\"][lineDataCount])  \n                }\n            }\n            this.drawLineGraph(container2DisplayOn, 'N/W Utilization',resultingGraphData,\"Time\",\"N/W Utilization in bytes\",400000) */\n          } else if (this.selected[0][\"selected_query_metrics\"] == 'CPU Utilization') {\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'CPU Usage', \"\", barData, 'jobs', 'CPU %');\n            return;\n          } else if (this.selected[0][\"selected_query_metrics\"] == 'Memory Utilization') {\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            this.plotHistogram(container2DisplayOn, 'Memory Usage', \"\", barData, 'jobs', 'Bytes');\n            return;\n          } else if (this.selected[0][\"selected_query_metrics\"] == \"Latency\") {\n            console.log('E2E Latency');\n            barData = {};\n            for (bardatacount = 0; bardatacount < resp.data.length; bardatacount++) {\n              intermediateData = resp.data[bardatacount];\n              barData = Object.assign({}, barData, intermediateData);\n            }\n            console.log(barData);\n            this.plotHistogram(container2DisplayOn, 'E2E Latency', \"\", barData, 'jobs', 'milliseconds');\n            return;\n          }\n        }\n      });\n    },\n    async refresh() {\n      await axios.get(this.url + \":8000/infra/getAll/1\").then(resp => {\n        this.list_of_all_clusters = resp.data.list_of_cluster;\n      });\n    },\n    async onSelectCluster() {\n      this.chosen_operator_metrics = null;\n      this.chosen_query_metrics = null;\n      await axios.get(this.url + \":8000/report/getThisClusterJobs/\" + this.cname).then(resp => {\n        var respData = resp.data;\n        //console.log('printing the job name and id');\n        console.log(respData);\n        this.jobs = respData['jobs'];\n        console.log('printing all jobs to one cluster');\n        console.log(this.jobs);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async onSelectSource() {\n      if (this.source == 'Artifacts') {\n        this.chosen_operator_metrics = null;\n        this.chosen_query_metrics = null;\n        await axios.get(this.url + \":8000/report/getArtifacts\").then(resp => {\n          var respData = resp.data;\n          console.log(respData);\n          this.artifacts = respData['artifacts'];\n          console.log(this.jobs);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    },\n    async getJobOperators() {\n      this.chosen_operator_metrics = null;\n      this.chosen_query_metrics = null;\n      let each_cluster;\n      for (each_cluster in this.list_of_all_clusters) {\n        if (this.list_of_all_clusters[each_cluster].id == this.cname) {\n          this.cluster_main_node_ip = this.list_of_all_clusters[each_cluster].main_node_ip;\n          break;\n        }\n      }\n      let selectedJob = this.jobs.find(job => job.jid === this.job);\n\n      // access the name property of the selected job\n      let jobName = selectedJob ? selectedJob.name : '';\n      const fullJobId = this.job;\n      const cutJobId = fullJobId.substring(0, 4);\n      const fulljobName = jobName;\n      const cutjobName = fulljobName.substring(0, 3);\n      console.log(cutJobId);\n      console.log(cutjobName);\n      this.jobGivenName = cutjobName + '-' + cutJobId;\n      //console.log(jobGivenName)\n\n      await axios.get(this.url + ':8000/report/getOperatorInfo/' + this.cluster_main_node_ip + '/' + this.job).then(resp => {\n        this.jobInfo = JSON.parse(resp.data);\n        //console.log('printing job operator names and id');\n        //console.log(this.jobInfo);\n        let vert = this.jobInfo[\"vertices\"];\n        //console.log(vert);\n\n        let operators_list = [];\n        if (jobName == this.jobsAndOperators[0].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[0].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[0].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[1].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[1].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[1].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[2].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[2].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[2].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[2].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[2].operators[3].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[2].operators[4].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[3].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[3].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[3].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[3].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[4].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[4].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[4].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[5].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[5].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[5].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[5].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[6].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[6].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[6].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[6].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[7].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[7].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[7].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[7].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[8].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[8].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[8].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[8].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[9].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[9].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[9].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[9].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[9].operators[3].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[10].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[10].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[10].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[10].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[11].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[11].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[11].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[11].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[11].operators[3].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[11].operators[4].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[12].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[12].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[12].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[12].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        if (jobName == this.jobsAndOperators[13].name) {\n          let index;\n\n          //console.log(vert)\n          for (index in vert) {\n            //console.log(vert[index].name);\n            //console.log(this.jobsAndOperators[3].operators[0].name);\n            if (vert[index].name.trim() === this.jobsAndOperators[13].operators[0].name.trim()) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[13].operators[1].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[13].operators[2].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            } else if (vert[index].name == this.jobsAndOperators[13].operators[3].name) {\n              operators_list.push({\n                \"name\": vert[index].name,\n                \"id\": vert[index].id\n              });\n            }\n          }\n          //console.log(operators_list);\n          this.list_of_operators = operators_list;\n        }\n        console.log('list of operrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr');\n        console.log(this.list_of_operators);\n      });\n    },\n    async getArtifactOperators() {\n      let form_data = {};\n      form_data['selected_artifact'] = this.artifact;\n      await axios.post(this.url + ':8000/report/getArtifactData', form_data).then(async resp => {\n        console.log(resp.data);\n        await resp.data;\n        this.list_of_operators = Object.keys(resp.data.data.operatorMetrics);\n      });\n    },\n    saveOpName() {\n      console.log(\"save op name called\");\n      for (const item of this.list_of_operators) {\n        if (item.id === this.chosen_operator) {\n          this.opName = item.name; // Found a matching id, return the corresponding name\n          console.log(this.opName);\n        }\n      }\n      return null; // Return null if no match is found\n    },\n\n    onSelectAnalysisOption(option) {\n      this.chosen_operator_metrics = null;\n      this.chosen_query_metrics = null;\n      if (option == 'Entire Query') {\n        this.showQueryMetrics = true;\n        this.showOperatorMetrics = false;\n      } else if (option == 'Operator') {\n        this.showOperatorMetrics = true;\n        this.showQueryMetrics = false;\n      }\n    },\n    async plotIndividualGraph() {\n      if (this.source == \"Cluster\") {\n        this.plotIndividualGraphCluster();\n      } else if (this.source == \"Artifacts\") {\n        this.plotIndividualGraphArtifact();\n      }\n    },\n    async plotIndividualGraphCluster() {\n      let form_data = {};\n      form_data['selected_clusterId'] = this.cname;\n      form_data['cluster_main_node_ip'] = this.cluster_main_node_ip;\n      form_data['selected_jobId'] = this.job;\n      form_data['selected_analysis_type'] = this.analysis_of;\n      if (this.analysis_of == 'Entire Query') {\n        form_data['selected_query_metrics'] = this.chosen_query_metrics;\n      }\n      if (this.analysis_of == 'Operator') {\n        //console.log(this.chosen_operator);\n        form_data['selected_operator'] = this.chosen_operator;\n        form_data['selected_operator_metrics'] = this.chosen_operator_metrics;\n      }\n      //console.log(form_data);\n      this.array_of_individual_user_selections.push(form_data);\n      await axios.get(\"http://\" + this.cluster_main_node_ip + \":8086/v1/jobs/\" + this.job).then(resp => {\n        console.log(resp.data.vertices);\n        const operatorList = resp.data.vertices;\n        console.log(\"operator parallelism found\");\n        for (const item of operatorList) {\n          if (item.id === this.chosen_operator) {\n            this.parallOp = item.parallelism; // Found a matching id, return the corresponding name\n            console.log(this.parallOp);\n          }\n        }\n      });\n      this.givenOpName = this.opName + \"-p-\" + this.parallOp;\n      await axios.post(this.url + ':8000/report/getIndividualGraphData', form_data).then(async resp => {\n        console.log(resp.data);\n        await resp.data;\n        // const responseData = resp.data\n\n        var incoming_data;\n        var data;\n        var container2DisplayOn;\n        var container2Display;\n        if (this.analysis_of == 'Entire Query') {\n          if (this.chosen_query_metrics == \"Throughput\") {\n            incoming_data = JSON.parse(resp.data);\n            data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]));\n            const incoming_data_2 = JSON.parse(resp.data);\n            //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n            let maxValue = Number.NEGATIVE_INFINITY;\n            incoming_data_2[\"data\"][\"result\"].forEach(subtask => {\n              subtask[\"values\"].forEach(dataPoint => {\n                const value = parseFloat(dataPoint[1]);\n                maxValue = Math.max(maxValue, value);\n              });\n            });\n            console.log(\"The largest value among all subtasks is:\", maxValue);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'Throughput', data, \"Time\", 'Records/Sec', maxValue);\n          } else if (this.chosen_query_metrics == 'N/W Utilization') {\n            incoming_data = JSON.parse(resp.data);\n            //console.log(incoming_data)\n            data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]));\n            const incoming_data_4 = JSON.parse(resp.data);\n            //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n            let maxValue4 = Number.NEGATIVE_INFINITY;\n            incoming_data_4[\"data\"][\"result\"].forEach(host => {\n              host[\"values\"].forEach(dataPoint4 => {\n                const value4 = parseFloat(dataPoint4[1]);\n                maxValue4 = Math.max(maxValue4, value4);\n              });\n            });\n            console.log(\"The largest value among all hosts is:\", maxValue4);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'N/W Utilization', data, \"Time\", \"Bytes/Sec\", maxValue4);\n          } else if (this.chosen_query_metrics == 'CPU Utilization') {\n            incoming_data = JSON.parse(resp.data);\n            //console.log(incoming_data)\n            data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]));\n            const incoming_data_7 = JSON.parse(resp.data);\n            //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n            let maxValue7 = Number.NEGATIVE_INFINITY;\n            incoming_data_7[\"data\"][\"result\"].forEach(host => {\n              host[\"values\"].forEach(dataPoint7 => {\n                const value7 = parseFloat(dataPoint7[1]);\n                maxValue7 = Math.max(maxValue7, value7);\n              });\n            });\n            console.log(\"The largest value among all hosts is:\", maxValue7);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'CPU Utilization', data, \"Time\", \"CPU %\", maxValue7);\n          } else if (this.chosen_query_metrics == 'Memory Utilization') {\n            incoming_data = JSON.parse(resp.data);\n            //console.log(incoming_data)\n            data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]));\n            const incoming_data_3 = JSON.parse(resp.data);\n            //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n            let maxValue3 = Number.NEGATIVE_INFINITY;\n            incoming_data_3[\"data\"][\"result\"].forEach(host => {\n              host[\"values\"].forEach(dataPoint3 => {\n                const value3 = parseFloat(dataPoint3[1]);\n                maxValue3 = Math.max(maxValue3, value3);\n              });\n            });\n            console.log(\"The largest value among all hosts is:\", maxValue3);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'Memory Utilization', data, \"Time\", 'Bytes', maxValue3);\n          } else if (this.chosen_query_metrics == 'Latency') {\n            let ne_per = resp.data; //ninty eight percentile end to end latency\n            console.log('latency resp');\n            console.log(ne_per.data.result[0].value[1]);\n            let ne_per_etoe = ne_per.data.result[0].value[1];\n            const data = {\n              [this.jobGivenName]: ne_per_etoe\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'E2E Latency 98th percentile', this.artifact.split(\"/\").pop(), data, '', \"milliseconds\");\n          }\n        } else if (this.analysis_of == 'Operator') {\n          //this.plotGraph(graphData, \"y-axis label\");\n\n          if (this.chosen_operator_metrics == \"Processing Latency 98th percentile\") {\n            let ne_per = resp.data;\n            console.log(ne_per);\n            const data = {\n              [this.givenOpName]: ne_per\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'Processing Latency 98th percentile', this.artifact.split(\"/\").pop(), data, 'operators', \"milliseconds\");\n          } else if (this.chosen_operator_metrics == 'Processing Latency 95th percentile') {\n            let nf_per = resp.data;\n            const data = {\n              [this.givenOpName]: nf_per\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'Processing Latency 95th percentile', this.artifact.split(\"/\").pop(), data, 'operators', \"milliseconds\");\n          } else if (this.chosen_operator_metrics == 'Processing Latency median') {\n            let nf_per = resp.data;\n            const data = {\n              [this.givenOpName]: nf_per\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'Processing Latency median', this.artifact.split(\"/\").pop(), data, 'operators', \"milliseconds\");\n          } else if (this.chosen_operator_metrics == 'Selectivity') {\n            let selectivity = resp.data;\n            let targetValue = null;\n            for (let key in selectivity) {\n              // eslint-disable-next-line\n              if (selectivity.hasOwnProperty(key)) {\n                targetValue = selectivity[key];\n                break; // Exit the loop after finding the first value\n              }\n            }\n\n            console.log(targetValue);\n            const data = {\n              [this.givenOpName]: targetValue\n            };\n            console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.plotHistogram(container2Display, 'Selectivity', this.artifact.split(\"/\").pop(), data, 'operators', \"Selectivity\");\n          }\n        }\n      });\n    },\n    async plotIndividualGraphArtifact() {\n      let form_data = {};\n      form_data['selected_jobId'] = this.artifact;\n      form_data['selected_artifact'] = this.artifact;\n      form_data['selected_analysis_type'] = this.analysis_of;\n      if (this.analysis_of == 'Entire Query') {\n        form_data['selected_query_metrics'] = this.chosen_query_metrics;\n      }\n      if (this.analysis_of == 'Operator') {\n        //console.log(this.chosen_operator);\n        form_data['selected_operator'] = this.chosen_operator;\n        form_data['selected_operator_metrics'] = this.chosen_operator_metrics;\n      }\n      this.array_of_individual_user_selections.push(form_data);\n      this.givenOpName = this.opName + \"-p-\" + this.parallOp;\n      await axios.post(this.url + ':8000/report/getArtifactData', form_data).then(async resp => {\n        console.log(resp.data);\n        await resp.data;\n        var incoming_data;\n        var data;\n        var container2DisplayOn;\n        var container2Display;\n        if (this.analysis_of == 'Entire Query') {\n          if (this.chosen_query_metrics == \"Throughput\") {\n            incoming_data = resp.data[\"data\"][\"queryMetrics\"][\"throughput\"];\n            data = JSON.parse(JSON.stringify(incoming_data));\n            const incoming_data_2 = resp.data[\"data\"][\"queryMetrics\"][\"throughput\"];\n            //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n            let maxValue = Number.NEGATIVE_INFINITY;\n            incoming_data_2.forEach(subtask => {\n              subtask[\"values\"].forEach(dataPoint => {\n                const value = parseFloat(dataPoint[1]);\n                maxValue = Math.max(maxValue, value);\n              });\n            });\n            console.log(\"The largest value among all subtasks is:\", maxValue);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'Throughput', data, \"Time\", 'Records/Sec', maxValue);\n          } else if (this.chosen_query_metrics == 'N/W Utilization') {\n            incoming_data = resp.data[\"data\"][\"hardwareMetrics\"][\"node_network_out\"];\n            //console.log(incoming_data)\n            data = JSON.parse(JSON.stringify(incoming_data));\n            const incoming_data_4 = resp.data[\"data\"][\"hardwareMetrics\"][\"node_network_out\"];\n            //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n            let maxValue4 = Number.NEGATIVE_INFINITY;\n            incoming_data_4.forEach(host => {\n              host[\"values\"].forEach(dataPoint4 => {\n                const value4 = parseFloat(dataPoint4[1]);\n                maxValue4 = Math.max(maxValue4, value4);\n              });\n            });\n            console.log(\"The largest value among all hosts is:\", maxValue4);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'N/W Utilization', data, \"Time\", \"Bytes/Sec\", maxValue4);\n          } else if (this.chosen_query_metrics == 'CPU Utilization') {\n            incoming_data = resp.data[\"data\"][\"hardwareMetrics\"][\"node_cpu\"];\n            //console.log(incoming_data)\n            data = JSON.parse(JSON.stringify(incoming_data));\n            const incoming_data_7 = resp.data[\"data\"][\"hardwareMetrics\"][\"node_cpu\"];\n            //data_2 = JSON.parse(JSON.stringify(incoming_data))\n            let maxValue7 = Number.NEGATIVE_INFINITY;\n            incoming_data_7.forEach(host => {\n              host[\"values\"].forEach(dataPoint7 => {\n                const value7 = parseFloat(dataPoint7[1]);\n                maxValue7 = Math.max(maxValue7, value7);\n              });\n            });\n            console.log(\"The largest value among all hosts is:\", maxValue7);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'CPU Utilization', data, \"Time\", \"CPU %\", maxValue7);\n          } else if (this.chosen_query_metrics == 'Memory Utilization') {\n            incoming_data = resp.data[\"data\"][\"hardwareMetrics\"][\"node_memory\"];\n            //console.log(incoming_data)\n            data = JSON.parse(JSON.stringify(incoming_data));\n            const incoming_data_3 = resp.data[\"data\"][\"hardwareMetrics\"][\"node_memory\"];\n            //data_2 = JSON.parse(JSON.stringify(incoming_data))\n            let maxValue3 = Number.NEGATIVE_INFINITY;\n            incoming_data_3.forEach(host => {\n              host[\"values\"].forEach(dataPoint3 => {\n                const value3 = parseFloat(dataPoint3[1]);\n                maxValue3 = Math.max(maxValue3, value3);\n              });\n            });\n            console.log(\"The largest value among all hosts is:\", maxValue3);\n            container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.drawLineGraph(container2DisplayOn, 'Memory Utilization', data, \"Time\", 'Bytes', maxValue3);\n          } else if (this.chosen_query_metrics == 'Latency') {\n            let ne_per = resp.data[\"data\"][\"queryMetrics\"][\"endtoend_latency_50\"]; //ninty eight percentile end to end latency\n            if (ne_per == undefined) {\n              ne_per = resp.data[\"data\"][\"queryMetrics\"][\"endtoend_latency_storm\"];\n            }\n            console.log('latency resp');\n            console.log(ne_per);\n            let ne_per_etoe = ne_per;\n            const data = {\n              [this.jobGivenName]: ne_per_etoe\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'E2E Latency', this.artifact.split(\"/\").pop(), data, '', \"milliseconds\");\n          }\n        } else if (this.analysis_of == 'Operator') {\n          //this.plotGraph(graphData, \"y-axis label\");\n\n          if (this.chosen_operator_metrics == \"Processing Latency 98th percentile\") {\n            console.log(resp.data.data.operatorMetrics[this.chosen_operator]);\n            var value_98 = resp.data.data.operatorMetrics[this.chosen_operator].processing_latency_98th;\n            if (value_98 == undefined) {\n              value_98 = resp.data.data.operatorMetrics[this.chosen_operator].execution_latency_98th;\n            }\n            let ne_per = value_98[Object.keys(value_98)[0]];\n            console.log(ne_per);\n            const data = {\n              [this.chosen_operator]: ne_per\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'Processing Latency 98th percentile', this.artifact.split(\"/\").pop(), data, 'operators', \"milliseconds\");\n          } else if (this.chosen_operator_metrics == 'Processing Latency 95th percentile') {\n            var value_95 = resp.data.data.operatorMetrics[this.chosen_operator].processing_latency_95th;\n            let nf_per = value_95[Object.keys(value_95)[0]];\n            const data = {\n              [this.chosen_operator]: nf_per\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'Processing Latency 95th percentile', this.artifact.split(\"/\").pop(), data, 'operators', \"milliseconds\");\n          } else if (this.chosen_operator_metrics == 'Processing Latency median') {\n            var value_median = resp.data.data.operatorMetrics[this.chosen_operator].processing_latency_50th;\n            let nf_per = value_median[Object.keys(value_median)[0]];\n            const data = {\n              [this.chosen_operator]: nf_per\n            };\n            //console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            //console.log(container2Display)\n            this.plotHistogram(container2Display, 'Processing Latency median', this.artifact.split(\"/\").pop(), data, 'operators', \"milliseconds\");\n          } else if (this.chosen_operator_metrics == 'Selectivity') {\n            var value_lat = resp.data.data.operatorMetrics[this.chosen_operator].selectivity;\n            let nf_per = value_lat[Object.keys(value_lat)[0]];\n            const data = {\n              [this.chosen_operator]: nf_per\n            };\n            console.log(data);\n            container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length - 1);\n            this.plotHistogram(container2Display, 'Selectivity', this.artifact.split(\"/\").pop(), data, 'operators', \"Selectivity\");\n          }\n        }\n      });\n    },\n    plotHistogram(container, title, subtitle, data, x_axis_name, y_axis_name) {\n      let maxValue = Number.NEGATIVE_INFINITY;\n      for (const key in data) {\n        const value = parseFloat(data[key]);\n        maxValue = Math.max(maxValue, value);\n      }\n      maxValue = Math.ceil(maxValue);\n      console.log('The maximum value is:', maxValue);\n      const margin = {\n        top: 50,\n        right: 50,\n        bottom: 100,\n        left: 50\n      };\n      const width = 480 - margin.left - margin.right;\n      const height = 400 - margin.top - margin.bottom;\n      let svg = d3.select(container).select('svg');\n\n      // Create a new SVG element if not already present\n      svg = d3.select(container).append('svg').attr('width', width + margin.right + margin.right + margin.right + margin.right).attr('height', height + margin.bottom + margin.bottom + margin.bottom).append('g').attr('transform', `translate(${2 * margin.left}, ${margin.top})`);\n      svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", 0 - margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"16px\").style(\"fill\", \"white\").attr(\"dy\", -5).text(title);\n      svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", 0 - margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"16px\").style(\"fill\", \"white\").attr(\"dy\", 15).text(subtitle);\n      const xScale = d3.scaleBand().range([0, width]).padding(0.1).domain(Object.keys(data));\n      //d3.max(Object.values(data))\n      const yScale = d3.scaleLinear().range([height, 0]).domain([0, 1.5 * maxValue]).nice();\n      svg.append(\"g\").attr(\"transform\", `translate(0, ${height})`).call(d3.axisBottom(xScale).tickSizeOuter(0)).selectAll(\"text\").style(\"fill\", \"white\").attr(\"transform\", \"rotate(-45)\") // Rotate the x-axis labels by -45 degrees\n      .style(\"text-anchor\", \"end\");\n\n      // Add Y Axis\n      svg.append(\"g\").call(d3.axisLeft(yScale).tickSizeOuter(0)).selectAll(\"text\").style(\"fill\", \"white\");\n\n      // Adding x and y gridlines\n      svg.append(\"g\").attr(\"class\", \"grid\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xScale).tickSize(-height).tickFormat(\"\"));\n      svg.append(\"g\").attr(\"class\", \"grid\").call(d3.axisLeft(yScale).tickSize(-width).tickFormat(\"\"));\n\n      // Add the x axis label\n      svg.append(\"text\").attr(\"class\", \"x-axis-label\").attr(\"x\", width / 2).attr(\"y\", height + margin.bottom + 40).attr(\"text-anchor\", \"middle\").style(\"fill\", \"#FFFDD0\").attr(\"dy\", \"0.5em\").text(x_axis_name);\n\n      // Add the y axis label\n      svg.append(\"text\").attr(\"class\", \"y-axis-label\").attr(\"x\", 0 - height / 2).attr(\"y\", 0 - margin.left - margin.left / 2).attr(\"text-anchor\", \"middle\").attr(\"transform\", \"rotate(-90)\").attr(\"dy\", \"0.5em\").style(\"fill\", \"#FFFDD0\").text(y_axis_name);\n      const colorScale = d3.scaleOrdinal().domain(Object.keys(data)).range([\"#ffb3ba\", \"#baffc9\", \"#ffffba\", \"#bae1ff\", \"#9467bd\", \"#8c564b\", \"#e377c2\"]);\n      svg.selectAll(\".bar\").data(Object.entries(data)).enter().append(\"rect\").attr(\"class\", \"bar\") // Added class \"bar\" to the rect elements for easier selection\n      .attr(\"x\", d => xScale(d[0])) // Changed x position to use the xScale with the key of the data object\n      .attr(\"y\", d => yScale(d[1])) // Changed y position to use the yScale with the value of the data object\n      .attr(\"width\", xScale.bandwidth()) // Changed width to use the bandwidth of the xScale\n      .attr(\"height\", d => height - yScale(d[1])) // Changed height to be the difference between the height and the yScale value\n      .style(\"fill\", i => colorScale(i));\n      svg.selectAll(\".label\").data(Object.entries(data)).enter().append(\"text\").attr(\"class\", \"label\").attr(\"id\", d => `label-${d[0]}`) // Set unique ID for each label\n      .attr(\"x\", d => xScale(d[0]) + xScale.bandwidth() / 2).attr(\"y\", d => yScale(d[1]) - 25).attr(\"text-anchor\", \"middle\").style(\"fill\", \"white\").text(d => parseFloat(d[1]).toFixed(2)).style(\"visibility\", \"visible\");\n    },\n    drawLineGraph(container_id, title, data, x_axis_name, y_axis_name, max_value) {\n      var margin = {\n          top: 50,\n          right: 50,\n          bottom: 50,\n          left: 50\n        },\n        width = 480 - margin.left - margin.right,\n        height = 400 - margin.top - margin.bottom;\n\n      // Create the SVG container\n      var svg = d3.select(container_id).append(\"svg\").style(\"background-color\", \"black\").attr(\"width\", width + margin.left + margin.right + margin.right + margin.right).attr(\"height\", height + margin.bottom + margin.bottom + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + 2 * margin.left + \",\" + margin.top + \")\");\n\n      // Set up the x and y scales\n      var xScale = d3.scaleTime().range([0, width]);\n      var yScale = d3.scaleLinear().range([height, 0]);\n\n      // Set up the x and y axes\n      var xAxis = d3.axisBottom(xScale).tickSizeOuter(0);\n      var yAxis = d3.axisLeft(yScale).tickSizeOuter(0);\n\n      // Update the x and y domains based on the data\n      var allData = [];\n      data.forEach(function (lineData) {\n        allData = allData.concat(lineData.values);\n      });\n      xScale.domain(d3.extent(allData, function (d) {\n        return new Date(d[0] * 1000);\n      }));\n      yScale.domain([0, 2 * max_value]);\n      //yScale.domain([0, d3.max(allData, function(d) { return d[1]; })]);\n      // Add the x and y axes to the SVG container\n      svg.append(\"g\").attr(\"class\", \"x-axis\").attr(\"transform\", \"translate(0,\" + height + \")\").style(\"fill\", \"#FFFDD0\").call(xAxis);\n      svg.append(\"g\").attr(\"class\", \"y-axis\").style(\"fill\", \"#FFFDD0\").call(yAxis);\n\n      //Add the x and y gridlines\n      svg.append(\"g\").attr(\"class\", \"grid\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xScale).tickSize(-height).tickFormat(\"\"));\n      svg.append(\"g\").attr(\"class\", \"grid\").call(d3.axisLeft(yScale).tickSize(-width).tickFormat(\"\"));\n\n      // Add the title to the graph\n      svg.append(\"text\").attr(\"class\", \"title\").attr(\"x\", width / 2).attr(\"y\", 0 - margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"fill\", \"#FFFDD0\").text(title);\n\n      // Add the x axis label\n      svg.append(\"text\").attr(\"class\", \"x-axis-label\").attr(\"x\", width / 2).attr(\"y\", height + margin.bottom - 10).attr(\"text-anchor\", \"middle\").style(\"fill\", \"#FFFDD0\").text(x_axis_name);\n\n      // Add the y axis label\n      svg.append(\"text\").attr(\"class\", \"y-axis-label\").attr(\"x\", 0 - height / 2).attr(\"y\", 0 - margin.left - margin.left / 2 - 10).attr(\"text-anchor\", \"middle\").attr(\"transform\", \"rotate(-90)\").attr(\"dy\", \"0.5em\").style(\"fill\", \"#FFFDD0\").text(y_axis_name);\n      svg.selectAll(\".x-axis text\").style(\"fill\", \"#FFFDD0\");\n      svg.selectAll(\".y-axis text\").attr(\"dx\", \"0.5em\").style(\"fill\", \"#FFFDD0\");\n\n      // Define a color scale for lines\n      var contrastColors = [\"#FF5733\", \"#2ECC71\", \"#3498DB\", \"#E74C3C\", \"#1ABC9C\", \"#F39C12\", \"#9B59B6\", \"#27AE60\"];\n      var colorSelected = [];\n      // Loop through the data and draw the line for each line in the graph\n      data.forEach(function (lineData, i) {\n        var line = d3.line().x(function (d) {\n          return xScale(new Date(d[0] * 1000));\n        }).y(function (d) {\n          return yScale(d[1]);\n        });\n        //var color_line = \"#\" + Math.floor(Math.random()*16777215).toString(16)\n        var color_line = contrastColors[i];\n        colorSelected.push(color_line);\n        svg.append(\"path\").datum(lineData.values).attr(\"class\", \"line\").attr(\"d\", line).style(\"stroke\", color_line) // Set the stroke color based on index\n        .style(\"fill\", \"none\");\n      });\n      var legendContainer = svg.append(\"g\") // This creates a container for the legend\n      .attr(\"class\", \"legend-container\").attr(\"transform\", \"translate(\" + (width + margin.right - 40) + \",\" + (margin.top - 60) + \")\").style(\"overflow-y\", \"auto\") // Enable vertical scrolling\n      .attr(\"height\", height - margin.top - margin.bottom).attr(\"height\", height);\n      var legend = legendContainer.selectAll(\".legend\").data(data.slice(0, 21)).enter().append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", function (d, i) {\n        return \"translate(0,\" + i * 15 + \")\";\n      }).style(\"fill\", \"#FFFDD0\");\n      legend.append(\"rect\").attr(\"x\", 0).attr(\"width\", 5).attr(\"height\", 5).style(\"fill\", function (d, i) {\n        return colorSelected[i];\n      });\n      legend.append(\"text\").attr(\"x\", 15).attr(\"y\", 5).attr(\"dy\", \".35em\").style(\"text-anchor\", \"start\").style(\"fill\", \"#FFFDD0\").style(\"font-size\", \"10px\").text(function (d) {\n        var label;\n        try {\n          label = d.metric[\"host\"].slice(0, 5);\n        } catch (e) {\n          try {\n            label = d.metric[\"instance\"].slice(0, 5);\n          } catch (e2) {\n            label = \"all nodes\";\n          }\n        }\n        return label;\n      });\n    },\n    clusterBarGraph(extractData, container) {\n      const margin = {\n        top: 20,\n        right: 30,\n        bottom: 40,\n        left: 50\n      };\n      const width = 600 - margin.left - margin.right;\n      const height = 400 - margin.top - margin.bottom;\n      const svg = d3.select(container).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n      const x0 = d3.scaleBand().domain(extractData[0].map(d => d.host)).rangeRound([0, width]).paddingInner(0.1);\n      const x1 = d3.scaleBand().domain([0, 1]).rangeRound([0, x0.bandwidth()]).padding(0.05);\n      const y = d3.scaleLinear().domain([0, d3.max(extractData.flat(), d => d.value)]).rangeRound([height, 0]);\n      const color = d3.scaleOrdinal().range([\"#fcba03\", \"#8a89a6\"]);\n      const xAxis = d3.axisBottom(x0);\n      const yAxis = d3.axisLeft(y);\n      svg.append(\"g\").attr(\"transform\", `translate(0, ${height})`).call(xAxis);\n      svg.append(\"g\").call(yAxis);\n      const barGroups = svg.selectAll(\".barGroup\").data(extractData).enter().append(\"g\").attr(\"class\", \"barGroup\").attr(\"transform\", (d, i) => `translate(${x1(i)},0)`);\n      barGroups.selectAll(\".bar\").data(d => d).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x0(d.host)).attr(\"y\", d => y(d.value)).attr(\"width\", x0.bandwidth() * 0.2).attr(\"height\", d => height - y(d.value)).attr(\"fill\", (d, i) => color(i));\n    }\n  },\n  async mounted() {\n    this.refresh();\n  }\n};","map":{"version":3,"mappings":";AA6LA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,mBACA;QACAxB;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA;MAEA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA;MAEA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAEA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAIA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAIA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAEA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,GACA;QACAA;QACAyB,YACA;UAAAzB;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA,GACA;UAAAA;QAAA;MAGA,EACA;MACA0B;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAGA;EACA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;MACA;IACA;IACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;MACA,YAEAC,mEACAC;QACA;QACAF;QACAA;QACA;QACA;UACA;YACA;YACA;cACA;cAGAG;YAEA;YACA;YACA;UACA;YACAH;YACAG;YACA;cACAC;cACAD;YACA;YACA;YACA;UAEA;YACAH;YACAG;YACA;cACAC;cACAD;YACA;YACA;YACA;UACA;YACAH;YACAG;YACA;cACAC;cACAD;YACA;YACA;YACA;UACA;QACA;UACAH;UACA;UACA;UACA;YACAG;YACA;cACAC;cAGAD;YAEA;YACA;YACA;UACA;YACAA;YACA;cACAC;cAGAD;cACAH;YAEA;YACA;YACA;;YAEA;AACA;AACA;AACA;AACA;AACA;UAEA;YACAG;YACA;cACAC;cAGAD;YAEA;YACA;YACA;UAEA;YACAA;YACA;cACAC;cAGAD;YAEA;YACA;YACA;UAEA;YACAH;YACAG;YACA;cACAC;cACAD;YACA;YACAH;YACA;YACA;UACA;QACA;MAEA;IACA;IACA;MAEA,YACAJ,uCACAM;QACA;MAEA;IACA;IACA;MACA;MACA;MACA,YACAN,gEACAM;QAEA;QACA;QACAF;QACA;QACAA;QACAA;MAEA,GACAK;QACAL;MACA;IAEA;IACA;MACA;QACA;QACA;QACA,YACAJ,4CACAM;UACA;UACAF;UACA;UACAA;QACA,GACAK;UACAL;QACA;MACA;IACA;IACA;MACA;MACA;MACA;MAEA;QAEA;UACA;UAEA;QAEA;MAEA;MAEA;;MAEA;MACA;MAEA;MACA;MAEA;MACA;MACAA;MACAA;MACA;MACA;;MAGA,YACAJ,6FACAM;QAGA;QACA;QACA;QACA;QACA;;QAEA;QAEA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAI;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAIA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QACA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UAGA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAGA;QACA;UAEA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACA;UACA;;UAEA;UACA;YACA;YACA;YACA;cAEAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;cACAA;gBACA;gBACA;cACA;YAEA;UAIA;UACA;UACA;QAEA;QACAN;QACAA;MAGA;IAEA;IACA;MACA;MACAO;MAEA,YACAN,2DACAC;QACAF;QACA;QAEA;MACA;IAEA;IACAQ;MACAR;MACA;QACA;UACA;UACAA;QACA;MACA;MACA;IACA;;IACAS;MACA;MACA;MAEA;QACA;QACA;MAEA;QAEA;QACA;MAGA;IACA;IACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;MACA;MACAF;MACAA;MACAA;MACAA;MAEA;QACAA;MAEA;MAAA;QACA;QACAA;QACAA;MAEA;MACA;MACA;MAEA,YACAX,yEACAM;QACAF;QACA;QACAA;QACA;UACA;YACA;YACAA;UACA;QACA;MACA;MAEA;MAEA,YAEAC,kEACAC;QACAF;QACA;QACA;;QAEA;QACA;QACA;QACA;QAEA;UACA;YAEAU;YACArD;YACA;YACA;YACA;YAEAsD;cACAC;gBACA;gBACAC;cACA;YACA;YAEAb;YACAc;YAEA;UACA;YAEAJ;YACA;YACArD;YACA;YACA;YACA;YAEA0D;cACAC;gBACA;gBACAC;cACA;YACA;YAEAjB;YAGAc;YAEA;UACA;YAEAJ;YACA;YACArD;YACA;YACA;YACA;YAEA6D;cACAF;gBACA;gBACAG;cACA;YACA;YAEAnB;YAEAc;YAEA;UACA;YAEAJ;YACA;YACArD;YACA;YACA;YACA;YAEA+D;cACAJ;gBACA;gBACAK;cACA;YACA;YAEArB;YAGAc;YAEA;UACA;YAEA;YACAd;YACAA;YACA;YAEA;cAAA;YAAA;YACA;YACAsB;YACA;YACA;UACA;QACA,OACA;UACA;;UAEA;YACA;YACAtB;YAEA;cAAA;YAAA;YACA;YACAsB;YACA;YACA;UAGA;YACA;YACA;cAAA;YAAA;YACA;YACAA;YACA;YACA;UAGA;YACA;YACA;cAAA;YAAA;YACA;YACAA;YACA;YACA;UAGA,OACA;YACA;YACA;YAEA;cACA;cACA;gBACAC;gBACA;cACA;YACA;;YAEAvB;YAEA;cAAA;YAAA;YACAA;YACAsB;YAEA;UAEA;QACA;MACA;IAIA;IACA;MACA;MACAf;MACAA;MACAA;MAEA;QACAA;MAEA;MAAA;QACA;QACAA;QACAA;MACA;MAEA;MAEA;MAEA,YACAN,2DACAC;QACAF;QACA;QAEA;QACA;QACA;QACA;QAEA;UACA;YAEAU;YACArD;YACA;YACA;YACA;YAEAsD;cACAC;gBACA;gBACAC;cACA;YACA;YAEAb;YACAc;YAEA;UACA;YAEAJ;YACA;YACArD;YACA;YACA;YACA;YAEA0D;cACAC;gBACA;gBACAC;cACA;YACA;YAEAjB;YAGAc;YAEA;UACA;YAEAJ;YACA;YACArD;YACA;YACA;YACA;YAEA6D;cACAF;gBACA;gBACAG;cACA;YACA;YAEAnB;YAEAc;YAEA;UACA;YAEAJ;YACA;YACArD;YACA;YACA;YACA;YAEA+D;cACAJ;gBACA;gBACAK;cACA;YACA;YAEArB;YAGAc;YAEA;UACA;YAEA;YACA;cACAU;YACA;YACAxB;YACAA;YACA;YAEA;cAAA;YAAA;YACA;YACAsB;YACA;YACA;UACA;QACA,OACA;UACA;;UAEA;YACAtB;YACA;YACA;cAAAyB;YAAA;YACA;YACAzB;YAEA;cAAA;YAAA;YACA;YACAsB;YACA;YACA;UAGA;YACA;YACA;YACA;cAAA;YAAA;YACA;YACAA;YACA;YACA;UAGA;YACA;YACA;YACA;cAAA;YAAA;YACA;YACAA;YACA;YACA;UAGA,OACA;YACA;YACA;YACA;cAAA;YAAA;YACAtB;YACAsB;YAEA;UAEA;QACA;MACA;IAIA;IACAI;MAIA;MAEA;QACA;QACAb;MACA;MAEAA;MACAb;MAGA;QAAA2B;QAAAC;QAAAC;QAAAC;MAAA;MACA;MACA;MAEA;;MAEA;MACAC,SACAC,kBACAC,cACAC,iFACAA,uEACAD,YACAC;MAEAH,mBACAG,qBACAA,8BACAA,8BACAC,2BACAA,uBACAD,eACAE;MAEAL,mBACAG,qBACAA,8BACAA,8BACAC,2BACAA,uBACAD,eACAE;MAEA,kBACAC,YACAC,kBACAC,aACAC;MACA;MACA,kBACAC,cACAH,mBACAE,4BACAE;MAEAX,gBACAG,6CACAS,2BACAC,kBACAC,kBACAV,uBACAD;MAAA,CACAC;;MAEA;MACAJ,gBACAY,yBACAC,kBACAC,kBACAV;;MAEA;MACAJ,gBACAG,sBACAA,iDACAS,2BACAG,kBACAC,eACA;MAEAhB,gBACAG,sBACAS,yBACAG,iBACAC,eACA;;MAEA;MACAhB,mBACAG,8BACAA,qBACAA,uCACAA,8BACAC,yBACAD,oBACAE;;MAEA;MACAL,mBACAG,8BACAA,0BACAA,6CACAA,8BACAA,iCACAA,oBACAC,yBACAC;MAEA,qCACAI,0BACAF;MAGAP,sBACA1E,2BACA2F,uBACAd;MAAA,CACAA;MAAA,CACAA;MAAA,CACAA;MAAA,CACAA;MAAA,CACAC;MACAJ,wBACA1E,2BACA2F,uBACAd,uBACAA;MAAA,CACAA,sDACAA,kCACAA,8BACAC,uBACAC,uCACAD;IACA;IAEAc;MACA;UAAAtB;UAAAC;UAAAC;UAAAC;QAAA;QACAoB;QACAC;;MAEA;MACA,kCACAlB,cACAE,mCACAD,gFACAA,uEACAD,YACAC;;MAEA;MACA,4BACAI;MACA,8BACAA;;MAEA;MACA;MACA;;MAEA;MACA;MACAjF;QACA+F;MACA;MAEAC;QAAA;MAAA;MACAC;MACA;MACA;MACAvB,gBACAG,wBACAA,iDACAC,yBAEAQ;MACAZ,gBACAG,wBACAC,yBAEAQ;;MAEA;MACAZ,gBACAG,sBACAA,iDACAS,2BACAG,kBACAC,eACA;MAEAhB,gBACAG,sBACAS,yBACAG,iBACAC,eACA;;MAEA;MACAhB,mBACAG,uBACAA,qBACAA,8BACAA,8BACAC,yBACAC;;MAEA;MACAL,mBACAG,8BACAA,qBACAA,uCACAA,8BACAC,yBACAC;;MAEA;MACAL,mBACAG,8BACAA,0BACAA,kDACAA,8BACAA,iCACAA,oBACAC,yBACAC;MACAL,8BACAI;MACAJ,8BACAG,oBACAC;;MAEA;MACA;MAEA;MACA;MACA9E;QACA,qBACAkG;UAAA;QAAA,GACAC;UAAA;QAAA;QACA;QACA;QACAC;QACA1B,mBACA2B,uBACAxB,sBACAA,gBACAC;QAAA,CACAA;MAGA;MAGA;MAAA,CACAD,kCACAA,8FACAC;MAAA,CACAD,oDACAA;MAEA,kDACA7E,wBACA2F,oBACAd,wBACAA;QAAA;MAAA,GACAC;MAEAwB,sBACAzB,aACAA,iBACAA,kBACAC;QAAA;MAAA;MAEAwB,sBACAzB,cACAA,aACAA,oBACAC,8BACAA,yBACAA,2BACAC;QACA;QACA;UACAwB;QACA;UACA;YACAA;UACA;YACAA;UACA;QACA;QACA;MACA;IAEA;IAIAC;MAEA;QAAAlC;QAAAC;QAAAC;QAAAC;MAAA;MACA;MACA;MAEA,iCACAG,cACAC,kDACAA,oDACAD,YACAC;MAEA,0BACAM,wCACAsB,uBACAC;MAEA,0BACAvB,eACAsB,gCACAvB;MAEA,2BACAC,sDACAsB;MAEA,gCACAxB;MAEA;MACA;MAEAP,gBACAG,6CACAS;MAEAZ,gBACAY;MAEA,6CACAtF,kBACA2F,oBACAd,0BACAA;MAEA8B,4BACA3G,aACA2F,uBACAd,qBACAA,2BACAA,2BACAA,oCACAA,yCACAA;IAEA;EAKA;EACA;IACA;EACA;AACA","names":["name","data","jobGivenName","selected","showCompareDialog","name_of_clusters","url","list_of_all_clusters","list_of_jobs","list_of_analysis_options","list_of_query_metrics","list_of_operators","list_of_operator_metrics","list_of_sources","source","cname","job","artifact","jid","aid","cluster_main_node_ip","jobInfo","jobs","artifacts","jobsAndOperators","operators","analysis_of","chosen_query_metrics","chosen_operator","chosen_operator_metrics","showQueryMetrics","showOperatorMetrics","array_of_individual_user_selections","array_of_compare_user_selection","graphs","opName","parallOp","givenOpName","computed","snackbar","get","set","isBtnDisabled","methods","console","post","then","barData","intermediateData","catch","operators_list","form_data","saveOpName","onSelectAnalysisOption","incoming_data","incoming_data_2","subtask","maxValue","container2DisplayOn","incoming_data_4","host","maxValue4","incoming_data_7","maxValue7","incoming_data_3","maxValue3","container2Display","targetValue","ne_per","value_98","plotHistogram","top","right","bottom","left","svg","select","append","attr","style","text","scaleBand","range","padding","domain","scaleLinear","nice","call","tickSizeOuter","selectAll","tickSize","tickFormat","enter","drawLineGraph","width","height","allData","xScale","yScale","x","y","colorSelected","datum","legend","label","clusterBarGraph","rangeRound","paddingInner","barGroups"],"sourceRoot":"src/views/dashboard","sources":["DataAnalysis.vue"],"sourcesContent":["<template>\n    <div>\n        \n            <v-card class=\"my-6 pa-0\" color=\"white\" elevation=\"24px\">\n                <v-card-title>\n                    <v-sheet color=\"primary\" elevation=\"24\"\n                        class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                        <h3>Data Analysis</h3>\n                    </v-sheet>\n                </v-card-title>\n                <v-card-subtitle class=\"text-right\">\n                    <v-btn v-if=\"array_of_individual_user_selections.length>=2\" color=\"primary\" class=\"ma-4\" elevation=\"3\"\n                        @click=\"showComparisonOptions()\">\n                        <v-icon>mdi-plus</v-icon><b>Compare</b>\n                    </v-btn>\n                </v-card-subtitle>\n                <v-card-text>\n                    <v-form ref=\"formingMetrics\">\n                        <v-row class=\"mt-6\">\n                            <v-col cols=\"3\">\n                                <v-select background-color=\"white\" color=\"black\" v-model=\"source\"\n                                    :items=\"list_of_sources\" item-text=\"source\" item-value=\"id\" label=\"Select Source\"\n                                    @change=\"onSelectSource\" outlined></v-select>\n                            </v-col>\n                        </v-row>\n                        <v-row class=\"mt-6\" v-if=\"source == 'Cluster'\">\n                            <v-col cols=\"3\">\n                                <v-select background-color=\"white\" color=\"black\" v-model=\"cname\"\n                                    :items=\"list_of_all_clusters\" item-text=\"name\" item-value=\"id\" label=\"Select Cluster\"\n                                    outlined @change=\"onSelectCluster\"></v-select>\n                            </v-col>\n                            <v-col cols=\"3\">\n                                <v-select background-color=\"white\" v-model=\"job\" :items=\"jobs\" item-text=\"full_name\"\n                                    item-value=\"jid\" label=\"Select Job\" outlined @change=\"getJobOperators\"></v-select>\n                            </v-col>\n                            <v-col cols=\"3\">\n                                <v-select background-color=\"white\" v-model=\"analysis_of\" :items=\"list_of_analysis_options\"\n                                    label=\"Analysis of ?\" outlined @input=\"onSelectAnalysisOption\"></v-select>\n                            </v-col>\n                            <v-col cols=\"3\" v-if=\"showQueryMetrics\">\n                                <v-select background-color=\"white\" v-model=\"chosen_query_metrics\"\n                                    :items=\"list_of_query_metrics\" label=\"Metrics list\" outlined></v-select>\n                            </v-col>\n                            <v-row class=\"mt-6\" v-else-if=\"showOperatorMetrics\">\n                                <v-col cols=\"3\">\n                                    <v-select background-color=\"white\" v-model=\"chosen_operator\" :items=\"list_of_operators\"\n                                        item-text=\"name\" item-value=\"id\" label=\"Operator list\" outlined @change=\"saveOpName\" ></v-select>\n                                </v-col>\n                                <v-col cols=\"3\">\n                                    <v-select background-color=\"white\" v-model=\"chosen_operator_metrics\"\n                                        :items=\"list_of_operator_metrics\" label=\"Metrics list\" outlined></v-select>\n                                </v-col>\n                            </v-row>\n                        </v-row>\n                        <v-row class=\"mt-6\" v-if=\"source == 'Artifacts'\">\n                            <v-col cols=\"3\">\n                                <v-select background-color=\"white\" v-model=\"artifact\" :items=\"artifacts\" item-text=\"full_name\"\n                                    item-value=\"aid\" label=\"Select Artifact Path\" @change=\"getArtifactOperators\" outlined></v-select>\n                            </v-col>\n                            <v-col cols=\"3\">\n                                <v-select background-color=\"white\" v-model=\"analysis_of\" :items=\"list_of_analysis_options\"\n                                    label=\"Analysis of ?\" outlined @input=\"onSelectAnalysisOption\"></v-select>\n                            </v-col>\n                            <v-col cols=\"3\" v-if=\"showQueryMetrics\">\n                                <v-select background-color=\"white\" v-model=\"chosen_query_metrics\"\n                                    :items=\"list_of_query_metrics\" label=\"Metrics list\" outlined></v-select>\n                            </v-col>\n                            <v-row class=\"mt-6\" v-else-if=\"showOperatorMetrics\">\n                                <v-col cols=\"3\">\n                                    <v-select background-color=\"white\" v-model=\"chosen_operator\" :items=\"list_of_operators\"\n                                        item-text=\"name\" item-value=\"id\" label=\"Operator list\" outlined @change=\"saveOpName\" ></v-select>\n                                </v-col>\n                                <v-col cols=\"3\">\n                                    <v-select background-color=\"white\" v-model=\"chosen_operator_metrics\"\n                                        :items=\"list_of_operator_metrics\" label=\"Metrics list\" outlined></v-select>\n                                </v-col>\n                            </v-row>\n                        </v-row>\n                    </v-form>\n                </v-card-text>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn :disabled=\"isBtnDisabled\" color=\"primary\" class=\"ma-4\" elevation=\"3\"\n                        @click=\"plotIndividualGraph()\">\n                        <v-icon>mdi-plus</v-icon><b>Plot Graph</b>\n                    </v-btn>\n                    <!-- <v-btn :disabled=\"isBtnDisabled\" color=\"primary\" class=\"ma-4\" elevation=\"3\"\n                        @click=\"showComparisonOptions()\">\n                        <v-icon>mdi-plus</v-icon><b>Compare</b>\n                    </v-btn> -->\n                </v-card-actions>\n\n\n            </v-card>\n            \n        \n\n        <!-- <v-card>\n            <div id=\"chartContainer18\"></div>\n        </v-card> -->\n        <v-card class=\"my-12 pa-0\" color=\"white\" elevation=\"24\">\n            <v-card-title>\n                <v-sheet color=\"primary\" elevation=\"24\"\n                        class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                    <h3>Individual charts</h3>\n                </v-sheet>\n            </v-card-title>\n            <v-card-text>\n                <v-row>\n                    <v-col v-for=\"chart,index in array_of_individual_user_selections\" :key=\"index\">\n                        <div class=\"pa-3\" :id=\"'chartContainer'+index\"></div>\n                    </v-col>\n                </v-row>\n            </v-card-text>\n        </v-card> \n        \n        <v-card class=\"my-12 pa-0\" color=\"white\" elevation=\"24\">\n            <v-card-title>\n                <v-sheet color=\"primary\" elevation=\"24\"\n                        class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                    <h3>Compare charts</h3>\n                </v-sheet>\n            </v-card-title>\n            <v-card-text>\n                <v-row>\n                    <v-col v-for=\"chart,index in array_of_compare_user_selection\" :key=\"index\">\n                        <div class =\"pa-3\" :id=\"'comparechartContainer'+index\"></div>\n                    </v-col>\n                </v-row>\n            </v-card-text>\n        </v-card>\n\n        <v-dialog \n            \n            v-model=\"showCompareDialog\"\n            persistent\n            max-width=\"500\"\n            \n            class=\"primary\">\n            <v-card>\n                <v-card-title>\n                    <span class=\"text-h5\">Compare Metrics</span>\n                </v-card-title>\n                <!-- <v-card-subtitle>\n                    {{ selected }}\n                </v-card-subtitle> -->\n                <v-card-text> \n                    <div v-for=\"selectInput,index in array_of_individual_user_selections\" :key=\"index\">\n                        <v-checkbox\n                            v-model=\"selected\"\n                            \n                            \n                            :value=\"selectInput\"\n                        >\n                        <!--:label=\"'ClusterId:   '+ selectInput.selected_clusterId+\n                                    '\\t \\n => JobId:   '+ selectInput.selected_jobId +\n                                    '\\n => Anaylsis_type:  '+ selectInput.selected_analysis_type +\n                                    '\\n => Query_Metrics:  '+ selectInput.selected_query_metrics\"-->\n                            <template v-slot:label>\n                                <v-card class=\"w-full\" dark>\n                                    <v-card-text>\n                                        ClusterId:{{ selectInput.selected_clusterId }}<br/>\n                                        JobId: {{ selectInput.selected_jobId }}<br/>\n                                        Anaylsis_type: {{ selectInput.selected_analysis_type }}<br/>\n                                        <div v-if=\"selectInput.selected_analysis_type==='Entire Query'\">\n                                        Query_Metrics: {{ selectInput.selected_query_metrics }}<br/>\n                                        </div>\n                                        <div v-else>\n                                        Selected_Operator_id: {{ selectInput.selected_operator }}\n                                        Selected_Operator_metrics: {{ selectInput.selected_operator_metrics }}    \n                                        </div>\n                                    </v-card-text>\n                                </v-card>\n                            </template>\n                        </v-checkbox>\n                        \n                    </div>  \n                </v-card-text>\n                <v-card-actions>\n                    <v-spacer />\n                    <v-btn class=\"error mr-2\" small @click=\"showCompareDialog=false\"> Close </v-btn>\n                    <v-btn class=\"success mr-2\" small @click=\"finishCompareInputs() \"> Finish </v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nimport * as d3 from 'd3';\n\nexport default {\n    name: 'DataAnalysis',\n    data() {\n        return {\n            jobGivenName:'',\n            selected: [],\n            showCompareDialog: false,\n            name_of_clusters: [],\n            url: process.env.VUE_APP_URL,\n            list_of_all_clusters: [],\n            list_of_jobs: [],\n            list_of_analysis_options: ['Entire Query', 'Operator'],\n            list_of_query_metrics: ['Latency', 'Throughput', 'N/W Utilization', 'CPU Utilization', 'Memory Utilization'],\n            list_of_operators: [],\n            list_of_operator_metrics: ['Processing Latency 98th percentile', 'Processing Latency 95th percentile', 'Selectivity', 'Processing Latency median'],\n            list_of_sources: ['Cluster', 'Artifacts'],\n            source: 'Cluster',\n            cname: null,\n            job: '',\n            artifact: '',\n            jid: '',\n            aid: '',\n            cluster_main_node_ip: '',\n            jobInfo: {},\n            jobs: [],\n            artifacts: [],\n            jobsAndOperators: [\n                {\n                    name: 'Flink word count job',\n                    operators: [\n                        { name: \"tokenizer\" },\n                        { name: \"counter\" },\n                    ]\n                },\n                {\n                    name: 'Flink smart grid job',\n                    operators: [\n                        { name: \"global average load\" },\n                        { name: \"local average load\" },\n                    ]\n                },\n                {\n                    name: 'Ads Analytics',\n                    operators: [\n                        { name: \"click-parser\" },\n                        { name: \"impression-parser\" },\n                        { name: \"clicks-counter\" },\n                        { name: \"impressions-counter\" },\n                        { name: \"rollingCTR\" },\n                    ]\n                },\n                {\n                    name: 'Google Cloud Monitoring',\n                    operators: [\n                        { name: \"parser\" },\n                        { name: \"average-cpu-per-category\" },\n                        { name: \"average-cpu-per-job\" },\n\n                    ]\n                },\n                {\n                    name: \"Sentiment Analysis\",\n                    operators: [\n                        { name: \"twitter-parser\" },\n                        { name: \"twitter-analyser\" },\n\n                    ]\n                },\n                {\n                    name: \"Spike Detection\",\n                    operators: [\n                        { name: \"parser\" },\n                        { name: \"average-calculator\" },\n                        { name: \"spike-detector\" },\n\n                    ]\n                },\n                {\n                    name: \"Logs Processing\",\n                    operators: [\n                        { name: \"Log-parser\" },\n                        { name: \"volume-counter\" },\n                        { name: \"status-counter\" },\n                        \n\n                    ]\n                },\n                {\n                    name: \"Trending Topics\",\n                    operators: [\n                        { name: \"twitter-parser\" },\n                        { name: \"topic-extractor\" },\n                        { name: \"popularity-detector\" },\n                        \n\n                    ]\n                },\n                {\n                    name: \"Bargain Index\",\n                    operators: [\n                        { name: \"quote-parser\" },\n                        { name: \"VWAP-operator\" },\n                        { name: \"bargain-index-calculator\" },\n\n                    ]\n                },\n                {\n                    name: \"Click Analytics\",\n                    operators: [\n                        { name: \"click-log-parser\" },\n                        { name: \"repeat-visit\" },\n                        { name: \"reduce-operation\" },\n                        { name: \"geography-visit\" },\n                        \n                    ]\n                },\n                {\n                    name: \"Linear Road\", \n                    operators: [\n                        { name: \"Vehicle-event-parser\" },\n                        { name: \"toll-notification\" },\n                        { name: \"formatter-toll-notification\" },\n                        { name: \"accident-notification\"},\n                        { name: \"formatter-accident-notification\" },\n                        { name: \"daily-expenditure\" },\n                        { name: \"vehicle-report-mapper\" }, \n                         \n                    ]\n                },\n                {\n                    name: \"TPCH\",\n                    operators: [\n                        { name: \"tpch-event-parser\" },\n                        { name: \"tpch-data-filter\"},\n                        { name: \"tpch-flat-mapper\"},\n                        { name: \"priority-counter\" },\n                        { name: \"formatter\" },\n                    ]\n                },\n                {\n                    name: \"Machine Outlier\",\n                    operators: [\n                        { name: \"machine-usage-parser\"},\n                        { name: \"machine-usage-grouper\"},\n                        { name: \"outlier-detector\"},\n                        \n                    ]\n                },\n                {\n                    name: \"Traffic Monitoring\",\n                    operators: [\n                        { name: \"traffic-event-parser\"},\n                        { name: \"road-matcher\"},\n                        { name: \"avg-speed\"},\n                        { name: \"formatter\"},\n                        \n                    ]\n                },\n            ],\n            analysis_of: '',\n            chosen_query_metrics: null,\n            chosen_operator: '',\n            chosen_operator_metrics: null,\n            showQueryMetrics: false,\n            showOperatorMetrics: false,\n            array_of_individual_user_selections: [],\n            array_of_compare_user_selection:[],\n            graphs: [],\n            opName:'',\n            parallOp:'',\n            givenOpName:''\n\n\n        }\n    },\n    computed: {\n        snackbar: {\n            get() {\n                return this.$store.state.snackbar;\n            },\n            set(value) {\n                this.$store.commit('setSnackbar', value);\n            },\n        },\n        isBtnDisabled() {\n            return this.chosen_query_metrics === null && this.chosen_operator_metrics === null;\n        }\n    },\n    methods: {\n        async showComparisonOptions(){\n            this.showCompareDialog = true;\n        },\n        async finishCompareInputs() {\n            this.array_of_compare_user_selection.push(this.selected)\n            //console.log('these are the graph I want to compare');\n            //console.log(this.selected)\n            this.showCompareDialog=false;\n            console.log(this.selected)\n            //console.log(this.selected)\n            //var resultingGraphData = []\n            await axios\n\n                .post(this.url + ':8000/report/getCompareGraphData', this.selected)\n                .then(async (resp) => {\n                    await resp.data;\n                    console.log(\"data from backend for comparison plot\");\n                    console.log(resp.data);\n                    var container2DisplayOn = \"#comparechartContainer\" + (this.array_of_compare_user_selection.length-1)\n                if(this.selected[0][\"selected_analysis_type\"]==\"Operator\"){\n                    if (this.selected[0][\"selected_operator_metrics\"]==\"Selectivity\") {\n                        var barData = {}\n                        for(var bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            var intermediateData = resp.data[bardatacount]\n                            \n                            \n                            barData = Object.assign({}, barData, intermediateData)\n                            \n                        }\n                        this.plotHistogram(container2DisplayOn, 'Selectivity', \"\", barData, 'Operators', 'Selectivity')\n                        return\n                    }else if(this.selected[0][\"selected_operator_metrics\"]==\"Processing Latency 98th percentile\") {\n                        console.log('in 98th percentile');\n                        barData = {}\n                        for(bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            barData = Object.assign({}, barData, intermediateData)   \n                        }\n                        this.plotHistogram(container2DisplayOn, 'lat-98', \"\", barData, 'Operators', 'milliseconds')\n                        return\n                        \n                    }else if(this.selected[0][\"selected_operator_metrics\"]==\"Processing Latency 95th percentile\") {\n                        console.log('in 95th percentile');\n                        barData = {}\n                        for(bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            barData = Object.assign({}, barData, intermediateData)   \n                        }\n                        this.plotHistogram(container2DisplayOn, 'lat-95', \"\", barData, 'Operators', 'milliseconds')\n                        return\n                    }else if(this.selected[0][\"selected_operator_metrics\"]==\"Processing Latency median\") {\n                        console.log('median');\n                        barData = {}\n                        for(bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            barData = Object.assign({}, barData, intermediateData)   \n                        }\n                        this.plotHistogram(container2DisplayOn, 'lat-median', \"\", barData, 'Operators', 'milliseconds')\n                        return\n                    }\n                }else if(this.selected[0][\"selected_analysis_type\"]==\"Entire Query\"){\n                    console.log(resp.data)\n                    //let dataCount=0;\n                    //let lineDataCount=0;\n                    if(this.selected[0][\"selected_query_metrics\"]==\"Throughput\"){\n                        barData = {}\n                        for( bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            \n                            \n                            barData = Object.assign({}, barData, intermediateData)\n                            \n                        }\n                        this.plotHistogram(container2DisplayOn, 'Throughput', \"\", barData, 'jobs', 'Records/Sec')\n                        return\n                    }else if(this.selected[0][\"selected_query_metrics\"]==\"N/W Utilization\"){\n                         barData = {}\n                        for( bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            \n                            \n                            barData = Object.assign({}, barData, intermediateData)\n                            console.log(barData);\n                            \n                        }\n                        this.plotHistogram(container2DisplayOn, 'N/W Usage', \"\", barData, 'jobs', 'Bytes/Sec')\n                        return\n\n                        /* for(dataCount=0; dataCount<resp.data.length; dataCount++) {\n                            for(lineDataCount = 0; lineDataCount< resp.data[dataCount][\"data\"][\"result\"].length; lineDataCount++) {\n                                resultingGraphData.push(resp.data[dataCount][\"data\"][\"result\"][lineDataCount])  \n                            }\n                        }\n                        this.drawLineGraph(container2DisplayOn, 'N/W Utilization',resultingGraphData,\"Time\",\"N/W Utilization in bytes\",400000) */\n\n                    }else if (this.selected[0][\"selected_query_metrics\"]=='CPU Utilization'){\n                        barData = {}\n                        for( bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            \n                            \n                            barData = Object.assign({}, barData, intermediateData)\n                            \n                        }\n                        this.plotHistogram(container2DisplayOn, 'CPU Usage', \"\", barData, 'jobs', 'CPU %')\n                        return\n\n                    }else if (this.selected[0][\"selected_query_metrics\"]=='Memory Utilization'){\n                        barData = {}\n                        for( bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            \n                            \n                            barData = Object.assign({}, barData, intermediateData)\n                            \n                        }\n                        this.plotHistogram(container2DisplayOn, 'Memory Usage', \"\", barData, 'jobs', 'Bytes')\n                        return\n\n                    }else if(this.selected[0][\"selected_query_metrics\"]==\"Latency\"){\n                        console.log('E2E Latency');\n                        barData = {}\n                        for(bardatacount=0; bardatacount < resp.data.length; bardatacount++){\n                            intermediateData = resp.data[bardatacount]\n                            barData = Object.assign({}, barData, intermediateData)   \n                        }\n                        console.log(barData);\n                        this.plotHistogram(container2DisplayOn, 'E2E Latency', \"\", barData, 'jobs', 'milliseconds')\n                        return\n                    }\n                }\n                    \n                })\n        },\n        async refresh() {\n\n            await axios\n                .get(this.url + \":8000/infra/getAll/1\")\n                .then((resp) => {\n                    this.list_of_all_clusters = resp.data.list_of_cluster;\n\n                })\n        },\n        async onSelectCluster() {\n            this.chosen_operator_metrics = null\n            this.chosen_query_metrics = null\n            await axios\n                .get(this.url + \":8000/report/getThisClusterJobs/\" + this.cname)\n                .then((resp) => {\n\n                    var respData = resp.data\n                    //console.log('printing the job name and id');\n                    console.log(respData)\n                    this.jobs = respData['jobs']\n                    console.log('printing all jobs to one cluster');\n                    console.log(this.jobs);\n                    \n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n        },\n        async onSelectSource() {\n            if (this.source == 'Artifacts') {\n                this.chosen_operator_metrics = null\n                this.chosen_query_metrics = null\n                await axios\n                    .get(this.url + \":8000/report/getArtifacts\")\n                    .then((resp) => {\n                        var respData = resp.data\n                        console.log(respData)\n                        this.artifacts = respData['artifacts']\n                        console.log(this.jobs);\n                    })\n                    .catch((err) => {\n                        console.log(err)\n                    })\n            }\n        },\n        async getJobOperators() {\n            this.chosen_operator_metrics = null\n            this.chosen_query_metrics = null\n            let each_cluster\n\n            for (each_cluster in this.list_of_all_clusters) {\n\n                if (this.list_of_all_clusters[each_cluster].id == this.cname) {\n                    this.cluster_main_node_ip = this.list_of_all_clusters[each_cluster].main_node_ip\n\n                    break;\n\n                }\n\n            }\n\n            let selectedJob = this.jobs.find(job => job.jid === this.job)\n\n            // access the name property of the selected job\n            let jobName = selectedJob ? selectedJob.name : ''\n            \n            const fullJobId = this.job\n            const cutJobId = fullJobId.substring(0,4);\n            \n            const fulljobName = jobName\n            const cutjobName = fulljobName.substring(0,3);\n            console.log(cutJobId)\n            console.log(cutjobName)\n            this.jobGivenName =  cutjobName + '-' + cutJobId \n            //console.log(jobGivenName)\n\n\n            await axios\n                .get(this.url + ':8000/report/getOperatorInfo/' + this.cluster_main_node_ip + '/' + this.job)\n                .then((resp) => {\n\n\n                    this.jobInfo = JSON.parse(resp.data);\n                    //console.log('printing job operator names and id');\n                    //console.log(this.jobInfo);\n                    let vert = this.jobInfo[\"vertices\"]\n                    //console.log(vert);\n\n                    let operators_list = []\n\n                    if (jobName == this.jobsAndOperators[0].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[0].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[0].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n                        \n\n\n                    }\n                    if (jobName == this.jobsAndOperators[1].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[1].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[1].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n                    }\n                    if (jobName == this.jobsAndOperators[2].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[2].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[2].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[2].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[2].operators[3].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[2].operators[4].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[3].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[3].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[3].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[3].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[4].name) {\n\n\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[4].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[4].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n\n                    }\n                    if (jobName == this.jobsAndOperators[5].name) {\n\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[5].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[5].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[5].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[6].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[6].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[6].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[6].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[7].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[7].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[7].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[7].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[8].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[8].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[8].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[8].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[9].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[9].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[9].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[9].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[9].operators[3].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[10].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[10].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[10].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[10].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } \n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[11].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[11].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[11].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[11].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[11].operators[3].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }else if (vert[index].name == this.jobsAndOperators[11].operators[4].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[12].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[12].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[12].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[12].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    if (jobName == this.jobsAndOperators[13].name) {\n                        let index\n\n                        //console.log(vert)\n                        for (index in vert) {\n                            //console.log(vert[index].name);\n                            //console.log(this.jobsAndOperators[3].operators[0].name);\n                            if (vert[index].name.trim() === this.jobsAndOperators[13].operators[0].name.trim()) {\n\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[13].operators[1].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[13].operators[2].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            } else if (vert[index].name == this.jobsAndOperators[13].operators[3].name) {\n                                operators_list.push({\n                                    \"name\": vert[index].name,\n                                    \"id\": vert[index].id\n                                })\n\n                            }\n\n\n\n                        }\n                        //console.log(operators_list);\n                        this.list_of_operators = operators_list\n\n                    }\n                    console.log('list of operrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr');\n                    console.log(this.list_of_operators);\n\n\n                });\n\n        },\n        async getArtifactOperators() {\n            let form_data = {}\n            form_data['selected_artifact'] = this.artifact\n\n            await axios\n                .post(this.url + ':8000/report/getArtifactData', form_data)\n                .then(async (resp) => {\n                    console.log(resp.data)\n                    await resp.data;\n\n                    this.list_of_operators = Object.keys(resp.data.data.operatorMetrics)\n                })\n\n        },\n        saveOpName() {\n            console.log(\"save op name called\");\n            for (const item of this.list_of_operators) {\n              if (item.id === this.chosen_operator) {\n                this.opName = item.name // Found a matching id, return the corresponding name\n                console.log(this.opName);\n              }\n            }\n            return null; // Return null if no match is found\n        },\n        onSelectAnalysisOption(option) {\n            this.chosen_operator_metrics = null\n            this.chosen_query_metrics = null\n\n            if (option == 'Entire Query') {\n                this.showQueryMetrics = true\n                this.showOperatorMetrics = false\n\n            } else if (option == 'Operator') {\n\n                this.showOperatorMetrics = true\n                this.showQueryMetrics = false\n\n\n            }\n        },\n        async plotIndividualGraph() {\n            if (this.source == \"Cluster\") {\n                this.plotIndividualGraphCluster()\n            } else if (this.source == \"Artifacts\") {\n                this.plotIndividualGraphArtifact()\n            }\n        },\n        async plotIndividualGraphCluster() {\n            let form_data = {}\n            form_data['selected_clusterId'] = this.cname\n            form_data['cluster_main_node_ip'] = this.cluster_main_node_ip\n            form_data['selected_jobId'] = this.job\n            form_data['selected_analysis_type'] = this.analysis_of\n\n            if (this.analysis_of == 'Entire Query') {\n                form_data['selected_query_metrics'] = this.chosen_query_metrics\n\n            } if (this.analysis_of == 'Operator') {\n                //console.log(this.chosen_operator);\n                form_data['selected_operator'] = this.chosen_operator\n                form_data['selected_operator_metrics'] = this.chosen_operator_metrics\n\n            }\n            //console.log(form_data);\n            this.array_of_individual_user_selections.push(form_data)\n\n            await axios\n                .get(\"http://\"+this.cluster_main_node_ip+\":8086/v1/jobs/\"+this.job)\n                .then((resp) => {\n                    console.log(resp.data.vertices)\n                    const operatorList = resp.data.vertices\n                    console.log(\"operator parallelism found\");\n                    for (const item of operatorList) {\n                      if (item.id === this.chosen_operator) {\n                        this.parallOp = item.parallelism // Found a matching id, return the corresponding name\n                        console.log(this.parallOp);\n                      }\n                    }\n                })\n\n                 this.givenOpName = this.opName + \"-p-\" + this.parallOp\n\n            await axios\n\n                .post(this.url + ':8000/report/getIndividualGraphData', form_data)\n                .then(async (resp) => {\n                    console.log(resp.data)\n                    await resp.data;\n                    // const responseData = resp.data\n                    \n                    var incoming_data;\n                    var data;\n                    var container2DisplayOn;\n                    var container2Display;\n                    \n            if (this.analysis_of == 'Entire Query') {\n                    if(this.chosen_query_metrics == \"Throughput\"){\n                       \n                        incoming_data = JSON.parse(resp.data)\n                        data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"])) \n                        const incoming_data_2 = JSON.parse(resp.data)\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                    let maxValue = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_2[\"data\"][\"result\"].forEach(subtask => {\n                        subtask[\"values\"].forEach(dataPoint => {\n                            const value = parseFloat(dataPoint[1]);\n                            maxValue = Math.max(maxValue, value);\n                        });\n                    });\n\n                    console.log(\"The largest value among all subtasks is:\", maxValue);\n                        container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                     \n                    this.drawLineGraph(container2DisplayOn, 'Throughput',data,\"Time\",'Records/Sec',maxValue)\n                }else if(this.chosen_query_metrics == 'N/W Utilization'){\n                        \n                        incoming_data = JSON.parse(resp.data)\n                        //console.log(incoming_data)\n                        data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                        const incoming_data_4 = JSON.parse(resp.data)\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                    let maxValue4 = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_4[\"data\"][\"result\"].forEach(host => {\n                        host[\"values\"].forEach(dataPoint4 => {\n                            const value4 = parseFloat(dataPoint4[1]);\n                            maxValue4 = Math.max(maxValue4, value4);\n                        });\n                    });\n\n                    console.log(\"The largest value among all hosts is:\", maxValue4);\n                       \n                        \n                       container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                      \n                    this.drawLineGraph(container2DisplayOn, 'N/W Utilization',data,\"Time\",\"Bytes/Sec\",maxValue4)\n                } else if(this.chosen_query_metrics == 'CPU Utilization'){\n                       \n                        incoming_data = JSON.parse(resp.data)\n                        //console.log(incoming_data)\n                        data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                        const incoming_data_7 = JSON.parse(resp.data)\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                    let maxValue7 = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_7[\"data\"][\"result\"].forEach(host => {\n                        host[\"values\"].forEach(dataPoint7 => {\n                            const value7 = parseFloat(dataPoint7[1]);\n                            maxValue7 = Math.max(maxValue7, value7);\n                        });\n                    });\n\n                    console.log(\"The largest value among all hosts is:\", maxValue7);\n                        \n                       container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                     \n                    this.drawLineGraph(container2DisplayOn, 'CPU Utilization',data,\"Time\",\"CPU %\",maxValue7)\n                }else if(this.chosen_query_metrics == 'Memory Utilization'){\n                        \n                        incoming_data = JSON.parse(resp.data)\n                        //console.log(incoming_data)\n                        data = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                        const incoming_data_3 = JSON.parse(resp.data)\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                    let maxValue3 = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_3[\"data\"][\"result\"].forEach(host => {\n                        host[\"values\"].forEach(dataPoint3 => {\n                            const value3 = parseFloat(dataPoint3[1]);\n                            maxValue3 = Math.max(maxValue3, value3);\n                        });\n                    });\n\n                    console.log(\"The largest value among all hosts is:\", maxValue3);\n                        \n                        \n                       container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                     \n                    this.drawLineGraph(container2DisplayOn, 'Memory Utilization',data,\"Time\",'Bytes', maxValue3)\n                }else if(this.chosen_query_metrics == 'Latency'){\n                        \n                    let ne_per = resp.data //ninty eight percentile end to end latency\n                    console.log('latency resp');\n                    console.log(ne_per.data.result[0].value[1]);\n                    let ne_per_etoe = ne_per.data.result[0].value[1]\n                    \n                    const data = { [this.jobGivenName]:ne_per_etoe};\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'E2E Latency 98th percentile', this.artifact.split(\"/\").pop(), data, '',\"milliseconds\");\n                }\n            }\n            else if (this.analysis_of == 'Operator') {\n                    //this.plotGraph(graphData, \"y-axis label\");\n                    \n                if(this.chosen_operator_metrics==\"Processing Latency 98th percentile\"){\n                    let ne_per = resp.data\n                    console.log(ne_per);\n                    \n                    const data = { [this.givenOpName]:ne_per };\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'Processing Latency 98th percentile', this.artifact.split(\"/\").pop(), data, 'operators',\"milliseconds\");\n                    \n\n                }else if(this.chosen_operator_metrics=='Processing Latency 95th percentile'){\n                    let nf_per = resp.data\n                    const data = { [this.givenOpName]:nf_per};\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'Processing Latency 95th percentile', this.artifact.split(\"/\").pop(), data, 'operators',\"milliseconds\");\n                    \n\n                }else if(this.chosen_operator_metrics=='Processing Latency median'){\n                    let nf_per = resp.data\n                    const data = { [this.givenOpName]:nf_per};\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'Processing Latency median', this.artifact.split(\"/\").pop(), data, 'operators',\"milliseconds\");\n                    \n\n                }\n                else if(this.chosen_operator_metrics=='Selectivity'){\n                    let selectivity = resp.data\n                    let targetValue = null;\n\nfor (let key in selectivity) {\n    // eslint-disable-next-line\n    if (selectivity.hasOwnProperty(key)) {\n        targetValue = selectivity[key];\n        break; // Exit the loop after finding the first value\n    }\n}\n\nconsole.log(targetValue);\n                    \n                    const data = { [this.givenOpName]: targetValue};\n                    console.log(data);\n                    container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       \n                    this.plotHistogram(container2Display, 'Selectivity', this.artifact.split(\"/\").pop(), data, 'operators',\"Selectivity\");\n                \n                }\n                }\n            })\n               \n\n\n        },\n        async plotIndividualGraphArtifact() {\n            let form_data = {}\n            form_data['selected_jobId'] = this.artifact\n            form_data['selected_artifact'] = this.artifact\n            form_data['selected_analysis_type'] = this.analysis_of\n\n            if (this.analysis_of == 'Entire Query') {\n                form_data['selected_query_metrics'] = this.chosen_query_metrics\n\n            } if (this.analysis_of == 'Operator') {\n                //console.log(this.chosen_operator);\n                form_data['selected_operator'] = this.chosen_operator\n                form_data['selected_operator_metrics'] = this.chosen_operator_metrics\n            }\n\n            this.array_of_individual_user_selections.push(form_data)\n\n             this.givenOpName = this.opName + \"-p-\" + this.parallOp\n\n            await axios\n                .post(this.url + ':8000/report/getArtifactData', form_data)\n                .then(async (resp) => {\n                    console.log(resp.data)\n                    await resp.data;\n\n                    var incoming_data;\n                    var data;\n                    var container2DisplayOn;\n                    var container2Display;\n                    \n            if (this.analysis_of == 'Entire Query') {\n                    if(this.chosen_query_metrics == \"Throughput\"){\n                       \n                        incoming_data = resp.data[\"data\"][\"queryMetrics\"][\"throughput\"]\n                        data = JSON.parse(JSON.stringify(incoming_data)) \n                        const incoming_data_2 = resp.data[\"data\"][\"queryMetrics\"][\"throughput\"]\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                    let maxValue = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_2.forEach(subtask => {\n                        subtask[\"values\"].forEach(dataPoint => {\n                            const value = parseFloat(dataPoint[1]);\n                            maxValue = Math.max(maxValue, value);\n                        });\n                    });\n\n                    console.log(\"The largest value among all subtasks is:\", maxValue);\n                        container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                     \n                    this.drawLineGraph(container2DisplayOn, 'Throughput',data,\"Time\",'Records/Sec',maxValue)\n                }else if(this.chosen_query_metrics == 'N/W Utilization'){\n                        \n                        incoming_data = resp.data[\"data\"][\"hardwareMetrics\"][\"node_network_out\"]\n                        //console.log(incoming_data)\n                        data = JSON.parse(JSON.stringify(incoming_data))\n                        const incoming_data_4 = resp.data[\"data\"][\"hardwareMetrics\"][\"node_network_out\"]\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data[\"data\"][\"result\"]))\n                    let maxValue4 = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_4.forEach(host => {\n                        host[\"values\"].forEach(dataPoint4 => {\n                            const value4 = parseFloat(dataPoint4[1]);\n                            maxValue4 = Math.max(maxValue4, value4);\n                        });\n                    });\n\n                    console.log(\"The largest value among all hosts is:\", maxValue4);\n                       \n                        \n                       container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                      \n                    this.drawLineGraph(container2DisplayOn, 'N/W Utilization',data,\"Time\",\"Bytes/Sec\",maxValue4)\n                } else if(this.chosen_query_metrics == 'CPU Utilization'){\n                       \n                        incoming_data = resp.data[\"data\"][\"hardwareMetrics\"][\"node_cpu\"]\n                        //console.log(incoming_data)\n                        data = JSON.parse(JSON.stringify(incoming_data))\n                        const incoming_data_7 = resp.data[\"data\"][\"hardwareMetrics\"][\"node_cpu\"]\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data))\n                    let maxValue7 = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_7.forEach(host => {\n                        host[\"values\"].forEach(dataPoint7 => {\n                            const value7 = parseFloat(dataPoint7[1]);\n                            maxValue7 = Math.max(maxValue7, value7);\n                        });\n                    });\n\n                    console.log(\"The largest value among all hosts is:\", maxValue7);\n                        \n                       container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                     \n                    this.drawLineGraph(container2DisplayOn, 'CPU Utilization',data,\"Time\",\"CPU %\",maxValue7)\n                }else if(this.chosen_query_metrics == 'Memory Utilization'){\n                        \n                        incoming_data = resp.data[\"data\"][\"hardwareMetrics\"][\"node_memory\"]\n                        //console.log(incoming_data)\n                        data = JSON.parse(JSON.stringify(incoming_data))\n                        const incoming_data_3 = resp.data[\"data\"][\"hardwareMetrics\"][\"node_memory\"]\n                    //data_2 = JSON.parse(JSON.stringify(incoming_data))\n                    let maxValue3 = Number.NEGATIVE_INFINITY;\n\n                    incoming_data_3.forEach(host => {\n                        host[\"values\"].forEach(dataPoint3 => {\n                            const value3 = parseFloat(dataPoint3[1]);\n                            maxValue3 = Math.max(maxValue3, value3);\n                        });\n                    });\n\n                    console.log(\"The largest value among all hosts is:\", maxValue3);\n                        \n                        \n                       container2DisplayOn = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                     \n                    this.drawLineGraph(container2DisplayOn, 'Memory Utilization',data,\"Time\",'Bytes', maxValue3)\n                }else if(this.chosen_query_metrics == 'Latency'){\n                        \n                    let ne_per = resp.data[\"data\"][\"queryMetrics\"][\"endtoend_latency_50\"] //ninty eight percentile end to end latency\n                    if (ne_per == undefined) {\n                        ne_per = resp.data[\"data\"][\"queryMetrics\"][\"endtoend_latency_storm\"]\n                    }\n                    console.log('latency resp');\n                    console.log(ne_per);\n                    let ne_per_etoe = ne_per\n                    \n                    const data = { [this.jobGivenName]:ne_per_etoe};\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'E2E Latency', this.artifact.split(\"/\").pop(), data, '',\"milliseconds\");\n                }\n            }\n            else if (this.analysis_of == 'Operator') {\n                    //this.plotGraph(graphData, \"y-axis label\");\n                    \n                if(this.chosen_operator_metrics==\"Processing Latency 98th percentile\"){\n                    console.log(resp.data.data.operatorMetrics[this.chosen_operator])\n                    var value_98 = resp.data.data.operatorMetrics[this.chosen_operator].processing_latency_98th\n                    if (value_98 == undefined) {value_98 = resp.data.data.operatorMetrics[this.chosen_operator].execution_latency_98th}\n                    let ne_per = value_98[Object.keys(value_98)[0]]\n                    console.log(ne_per);\n\n                    const data = { [this.chosen_operator]:ne_per };\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'Processing Latency 98th percentile', this.artifact.split(\"/\").pop(), data, 'operators',\"milliseconds\");\n                    \n\n                }else if(this.chosen_operator_metrics=='Processing Latency 95th percentile'){\n                    var value_95 = resp.data.data.operatorMetrics[this.chosen_operator].processing_latency_95th\n                    let nf_per = value_95[Object.keys(value_95)[0]]\n                    const data = { [this.chosen_operator]:nf_per};\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'Processing Latency 95th percentile', this.artifact.split(\"/\").pop(), data, 'operators',\"milliseconds\");\n                    \n\n                }else if(this.chosen_operator_metrics=='Processing Latency median'){\n                    var value_median = resp.data.data.operatorMetrics[this.chosen_operator].processing_latency_50th\n                    let nf_per = value_median[Object.keys(value_median)[0]]\n                    const data = { [this.chosen_operator]:nf_per};\n                        //console.log(data);\n                        container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       //console.log(container2Display)\n                        this.plotHistogram(container2Display, 'Processing Latency median', this.artifact.split(\"/\").pop(), data, 'operators',\"milliseconds\");\n                    \n\n                }\n                else if(this.chosen_operator_metrics=='Selectivity'){\n                    var value_lat = resp.data.data.operatorMetrics[this.chosen_operator].selectivity\n                    let nf_per = value_lat[Object.keys(value_lat)[0]]\n                    const data = { [this.chosen_operator]:nf_per};\n                    console.log(data);\n                    container2Display = \"#chartContainer\" + (this.array_of_individual_user_selections.length-1)\n                       \n                    this.plotHistogram(container2Display, 'Selectivity', this.artifact.split(\"/\").pop(), data, 'operators',\"Selectivity\");\n                \n                }\n                }\n            })\n               \n\n\n        },\n        plotHistogram(container, title, subtitle, data, x_axis_name, y_axis_name) {\n\n            \n\n            let maxValue = Number.NEGATIVE_INFINITY;\n\n            for (const key in data) {\n            const value = parseFloat(data[key]);\n            maxValue = Math.max(maxValue, value);\n            }\n\n            maxValue = Math.ceil(maxValue);\n            console.log('The maximum value is:', maxValue);\n\n\n            const margin = { top: 50, right: 50, bottom: 100, left: 50 };\n            const width = 480 - margin.left - margin.right;\n            const height = 400 - margin.top - margin.bottom;\n\n            let svg = d3.select(container).select('svg');\n\n            // Create a new SVG element if not already present\n            svg = d3\n              .select(container)\n              .append('svg')\n              .attr('width', width + margin.right + margin.right + margin.right + margin.right)\n              .attr('height', height + margin.bottom + margin.bottom + margin.bottom)\n              .append('g')\n              .attr('transform', `translate(${2 * margin.left}, ${margin.top})`);\n\n            svg.append(\"text\")\n              .attr(\"x\", width / 2)\n              .attr(\"y\", 0 - (margin.top / 2))\n              .attr(\"text-anchor\", \"middle\")\n              .style(\"font-size\", \"16px\")\n              .style(\"fill\", \"white\")\n              .attr(\"dy\", -5)\n              .text(title);\n\n            svg.append(\"text\")\n              .attr(\"x\", width / 2)\n              .attr(\"y\", 0 - (margin.top / 2))\n              .attr(\"text-anchor\", \"middle\")\n              .style(\"font-size\", \"16px\")\n              .style(\"fill\", \"white\")\n              .attr(\"dy\", 15)\n              .text(subtitle);\n\n            const xScale = d3\n              .scaleBand()\n              .range([0, width])\n              .padding(0.1)\n              .domain(Object.keys(data));\n            //d3.max(Object.values(data))\n            const yScale = d3\n              .scaleLinear()\n              .range([height, 0])\n              .domain([0, 1.5 * maxValue])\n              .nice();\n\n            svg.append(\"g\")\n              .attr(\"transform\", `translate(0, ${height})`)\n              .call(d3.axisBottom(xScale)\n                .tickSizeOuter(0))\n              .selectAll(\"text\")\n              .style(\"fill\", \"white\")\n              .attr(\"transform\", \"rotate(-45)\") // Rotate the x-axis labels by -45 degrees\n              .style(\"text-anchor\", \"end\");\n\n            // Add Y Axis\n            svg.append(\"g\")\n              .call(d3.axisLeft(yScale)\n                .tickSizeOuter(0))\n              .selectAll(\"text\")\n              .style(\"fill\", \"white\");\n\n            // Adding x and y gridlines\n            svg.append(\"g\")\n              .attr(\"class\", \"grid\")\n              .attr(\"transform\", \"translate(0,\" + height + \")\")\n              .call(d3.axisBottom(xScale)\n              .tickSize(-height)\n              .tickFormat(\"\")\n            );\n\n            svg.append(\"g\")\n              .attr(\"class\", \"grid\")\n              .call(d3.axisLeft(yScale)\n              .tickSize(-width)\n              .tickFormat(\"\")\n            );\n\n            // Add the x axis label\n            svg.append(\"text\")\n              .attr(\"class\", \"x-axis-label\")\n              .attr(\"x\", width / 2)\n              .attr(\"y\", height + margin.bottom + 40)\n              .attr(\"text-anchor\", \"middle\")\n              .style(\"fill\", \"#FFFDD0\")\n              .attr(\"dy\", \"0.5em\")\n              .text(x_axis_name);\n\n            // Add the y axis label\n            svg.append(\"text\")\n              .attr(\"class\", \"y-axis-label\")\n              .attr(\"x\", 0 - (height / 2))\n              .attr(\"y\", 0 - margin.left - (margin.left / 2))\n              .attr(\"text-anchor\", \"middle\")\n              .attr(\"transform\", \"rotate(-90)\")\n              .attr(\"dy\", \"0.5em\")\n              .style(\"fill\", \"#FFFDD0\")\n              .text(y_axis_name);\n\n            const colorScale = d3.scaleOrdinal()\n             .domain(Object.keys(data))\n             .range([\"#ffb3ba\", \"#baffc9\", \"#ffffba\", \"#bae1ff\", \"#9467bd\", \"#8c564b\", \"#e377c2\"]);\n\n\n            svg.selectAll(\".bar\")\n              .data(Object.entries(data))\n              .enter().append(\"rect\")\n              .attr(\"class\", \"bar\") // Added class \"bar\" to the rect elements for easier selection\n              .attr(\"x\", d => xScale(d[0])) // Changed x position to use the xScale with the key of the data object\n              .attr(\"y\", d => yScale(d[1])) // Changed y position to use the yScale with the value of the data object\n              .attr(\"width\", xScale.bandwidth()) // Changed width to use the bandwidth of the xScale\n              .attr(\"height\", d => height - yScale(d[1])) // Changed height to be the difference between the height and the yScale value\n              .style(\"fill\", (i) => colorScale(i));\n            svg.selectAll(\".label\")\n              .data(Object.entries(data))\n              .enter().append(\"text\")\n              .attr(\"class\", \"label\")\n              .attr(\"id\", d => `label-${d[0]}`) // Set unique ID for each label\n              .attr(\"x\", d => xScale(d[0]) + xScale.bandwidth() / 2)\n              .attr(\"y\", d => yScale(d[1]) - 25)\n              .attr(\"text-anchor\", \"middle\")\n              .style(\"fill\", \"white\")\n              .text(d => parseFloat(d[1]).toFixed(2))\n              .style(\"visibility\", \"visible\");\n            },\n\n        drawLineGraph(container_id, title, data, x_axis_name, y_axis_name, max_value) {\n            var margin = {top: 50, right: 50, bottom: 50, left: 50},\n            width = 480 - margin.left - margin.right,\n            height = 400 - margin.top - margin.bottom;\n\n            // Create the SVG container\n            var svg = d3.select(container_id)\n              .append(\"svg\")\n              .style(\"background-color\", \"black\")\n              .attr(\"width\", width + margin.left + margin.right + margin.right + margin.right)\n              .attr(\"height\", height + margin.bottom + margin.bottom + margin.bottom)\n              .append(\"g\")\n              .attr(\"transform\", \"translate(\" + (2 * margin.left) + \",\" + margin.top + \")\");\n\n            // Set up the x and y scales\n            var xScale = d3.scaleTime()\n              .range([0, width]);\n            var yScale = d3.scaleLinear()\n              .range([height, 0]);\n\n            // Set up the x and y axes\n            var xAxis = d3.axisBottom(xScale).tickSizeOuter(0);\n            var yAxis = d3.axisLeft(yScale).tickSizeOuter(0);\n\n            // Update the x and y domains based on the data\n            var allData = [];\n            data.forEach(function(lineData) {\n              allData = allData.concat(lineData.values);\n            });\n            \n            xScale.domain(d3.extent(allData, function(d) { return new Date(d[0] * 1000); }));\n            yScale.domain([0, 2 * (max_value)]);\n            //yScale.domain([0, d3.max(allData, function(d) { return d[1]; })]);\n            // Add the x and y axes to the SVG container\n            svg.append(\"g\")\n              .attr(\"class\", \"x-axis\")\n              .attr(\"transform\", \"translate(0,\" + height + \")\")\n              .style(\"fill\", \"#FFFDD0\")\n\n              .call(xAxis);\n            svg.append(\"g\")\n              .attr(\"class\", \"y-axis\")\n              .style(\"fill\", \"#FFFDD0\")\n\n              .call(yAxis);\n        \n            //Add the x and y gridlines\n            svg.append(\"g\")\n              .attr(\"class\", \"grid\")\n              .attr(\"transform\", \"translate(0,\" + height + \")\")\n              .call(d3.axisBottom(xScale)\n                .tickSize(-height)\n                .tickFormat(\"\")\n              );\n\n            svg.append(\"g\")\n              .attr(\"class\", \"grid\")\n              .call(d3.axisLeft(yScale)\n                .tickSize(-width)\n                .tickFormat(\"\")\n              );\n\n              // Add the title to the graph\n              svg.append(\"text\")\n                .attr(\"class\", \"title\")\n                .attr(\"x\", (width / 2))\n                .attr(\"y\", 0 - (margin.top / 2))\n                .attr(\"text-anchor\", \"middle\")\n                .style(\"fill\", \"#FFFDD0\") \n                .text(title);\n\n              // Add the x axis label\n              svg.append(\"text\")\n                .attr(\"class\", \"x-axis-label\")\n                .attr(\"x\", width / 2)\n                .attr(\"y\", height + margin.bottom - 10)\n                .attr(\"text-anchor\", \"middle\")\n                .style(\"fill\", \"#FFFDD0\") \n                .text(x_axis_name);\n\n              // Add the y axis label\n              svg.append(\"text\")\n                .attr(\"class\", \"y-axis-label\")\n                .attr(\"x\", 0 - (height / 2))\n                .attr(\"y\", 0 - margin.left - (margin.left / 2)- 10)\n                .attr(\"text-anchor\", \"middle\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"dy\", \"0.5em\")\n                .style(\"fill\", \"#FFFDD0\") \n                .text(y_axis_name);\n              svg.selectAll(\".x-axis text\")      \n                .style(\"fill\", \"#FFFDD0\");\n              svg.selectAll(\".y-axis text\")\n                .attr(\"dx\", \"0.5em\")\n                .style(\"fill\", \"#FFFDD0\");\n          \n                // Define a color scale for lines\n                var contrastColors = [\"#FF5733\", \"#2ECC71\", \"#3498DB\", \"#E74C3C\", \"#1ABC9C\", \"#F39C12\", \"#9B59B6\", \"#27AE60\"];\n\n                var colorSelected = []\n                // Loop through the data and draw the line for each line in the graph\n                data.forEach(function(lineData, i) {\n                  var line = d3.line()\n                    .x(function(d) { return xScale(new Date(d[0] * 1000)); })\n                  .y(function(d) { return yScale(d[1]); });\n                //var color_line = \"#\" + Math.floor(Math.random()*16777215).toString(16)\n                var color_line = contrastColors[i];\n                colorSelected.push(color_line)\n                svg.append(\"path\")\n                  .datum(lineData.values)\n                  .attr(\"class\", \"line\")\n                  .attr(\"d\", line)\n                  .style(\"stroke\", color_line) // Set the stroke color based on index\n                  .style(\"fill\", \"none\");\n\n                  \n              });\n             \n\n                var legendContainer = svg.append(\"g\") // This creates a container for the legend\n    .attr(\"class\", \"legend-container\")\n    .attr(\"transform\", \"translate(\" + (width + margin.right - 40) + \",\" + (margin.top - 60) + \")\")\n    .style(\"overflow-y\", \"auto\") // Enable vertical scrolling\n    .attr(\"height\", height - margin.top - margin.bottom)\n    .attr(\"height\", height);\n\nvar legend = legendContainer.selectAll(\".legend\")\n    .data(data.slice(0, 21))\n    .enter().append(\"g\")\n    .attr(\"class\", \"legend\")\n    .attr(\"transform\", function(d, i) { return \"translate(0,\" + i * 15 + \")\"; })\n    .style(\"fill\", \"#FFFDD0\");\n\nlegend.append(\"rect\")\n    .attr(\"x\", 0)\n    .attr(\"width\", 5)\n    .attr(\"height\", 5)\n    .style(\"fill\", function(d, i) { return colorSelected[i]; });\n\nlegend.append(\"text\")\n    .attr(\"x\", 15)\n    .attr(\"y\", 5)\n    .attr(\"dy\", \".35em\")\n    .style(\"text-anchor\", \"start\")\n    .style(\"fill\", \"#FFFDD0\")\n    .style(\"font-size\", \"10px\")\n    .text(function(d) {\n        var label\n        try {\n            label = (d.metric[\"host\"]).slice(0 , 5);\n        } catch (e) {\n            try {\n                label = (d.metric[\"instance\"]).slice(0 , 5);\n            } catch (e2) {\n                label = \"all nodes\"\n            }\n        }\n        return label;\n    });\n\n        },\n\n     \n        \n        clusterBarGraph(extractData, container){\n            \n            const margin = { top: 20, right: 30, bottom: 40, left: 50 };\n            const width = 600 - margin.left - margin.right;\n            const height = 400 - margin.top - margin.bottom;\n                    \n            const svg = d3.select(container)\n              .append(\"svg\")\n              .attr(\"width\", width + margin.left + margin.right)\n              .attr(\"height\", height + margin.top + margin.bottom)\n              .append(\"g\")\n              .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n                    \n            const x0 = d3.scaleBand()\n              .domain(extractData[0].map(d => d.host))\n              .rangeRound([0, width])\n              .paddingInner(0.1);\n                    \n            const x1 = d3.scaleBand()\n              .domain([0, 1])\n              .rangeRound([0, x0.bandwidth()])\n              .padding(0.05);\n                    \n            const y = d3.scaleLinear()\n              .domain([0, d3.max(extractData.flat(), d => d.value)])\n              .rangeRound([height, 0]);\n                    \n            const color = d3.scaleOrdinal()\n              .range([\"#fcba03\", \"#8a89a6\"]);\n                    \n            const xAxis = d3.axisBottom(x0);\n            const yAxis = d3.axisLeft(y);\n                    \n            svg.append(\"g\")\n              .attr(\"transform\", `translate(0, ${height})`)\n              .call(xAxis);\n                    \n            svg.append(\"g\")\n              .call(yAxis);\n                    \n            const barGroups = svg.selectAll(\".barGroup\")\n              .data(extractData)\n              .enter().append(\"g\")\n              .attr(\"class\", \"barGroup\")\n              .attr(\"transform\", (d, i) => `translate(${x1(i)},0)`);\n                    \n            barGroups.selectAll(\".bar\")\n              .data(d => d)\n              .enter().append(\"rect\")\n              .attr(\"class\", \"bar\")\n              .attr(\"x\", d => x0(d.host))\n              .attr(\"y\", d => y(d.value))\n              .attr(\"width\", x0.bandwidth() * 0.2)\n              .attr(\"height\", d => height - y(d.value))\n              .attr(\"fill\", (d, i) => color(i));\n\n        }\n\n\n\n   \n    },  \n    async mounted() {\n        this.refresh();\n    }\n}\n</script>\n<style>\n.legend{\n  padding: 2%;\n  max-height: 150px;\n  overflow-x: scroll;\n  border: 1px solid blue;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}