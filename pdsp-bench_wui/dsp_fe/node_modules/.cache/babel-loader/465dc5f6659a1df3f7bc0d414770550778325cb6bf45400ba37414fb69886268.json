{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'DataGenerator',\n  data() {\n    return {\n      increasingStepSize: '',\n      showLogsDialogue: false,\n      output: null,\n      showResults: false,\n      showProgress: false,\n      url: process.env.VUE_APP_URL,\n      deployMode: '',\n      mode: '',\n      templatesTrain: [],\n      templatesTest: '',\n      numTop: '',\n      execTime: '',\n      enumStrategy: '',\n      parallelism: '',\n      exhaustiveParallelismStepSize: '',\n      isDetermin: false,\n      //think about the v-model\n      useAllOper: false,\n      //think about the v-model\n      headers: [{\n        text: 'Node\\'s host name',\n        value: 'hostname'\n      }, {\n        text: 'Actions',\n        value: 'actions',\n        sortable: false\n      }],\n      nodes: [],\n      addNodeDialog: false,\n      nodeHostName: '',\n      trainTemplates: [{\n        id: 'template1',\n        name: 'template1 - linear query'\n      }, {\n        id: 'template2',\n        name: 'template2- two way join'\n      }, {\n        id: 'template3',\n        name: 'template3 - three way join'\n      }],\n      testTemplates: [{\n        id: 'testA',\n        name: 'Tuple width extrapolation'\n      }, {\n        id: 'testB',\n        name: 'Event rate extrapolation'\n      }, {\n        id: 'testC',\n        name: 'Time-based window extrapolation'\n      }, {\n        id: 'testD',\n        name: 'Count-based window extrapolation'\n      }, {\n        id: 'testE',\n        name: 'Synthetic Queries extrapolation'\n      }]\n    };\n  },\n  computed: {\n    snackbar: {\n      get() {\n        return this.$store.state.snackbar;\n      },\n      set(value) {\n        this.$store.commit('setSnackbar', value);\n      }\n    }\n  },\n  methods: {\n    async runPlanGeneratorFlink() {\n      this.showProgress = true;\n      var data = {\n        \"deployMode\": this.deployMode,\n        \"mode\": this.mode,\n        \"numberOfTopol\": this.numTop,\n        \"executionTime\": this.execTime,\n        \"enumerationStrategy\": this.enumStrategy\n      };\n      if (this.mode == 'train') {\n        data[\"traintempl\"] = this.templatesTrain;\n        if (this.isDetermin == 'true') {\n          data[\"deterministic\"] = this.isDetermin;\n        }\n        if (this.useAllOper == 'true') {\n          data[\"useAllOperators\"] = this.useAllOper;\n        }\n      } else if (this.mode == 'test') {\n        data[\"testtempl\"] = this.templatesTest;\n      }\n      if (this.exhaustiveParallelismStepSize != '') {\n        data[\"exhaustiveParallelismStepSize\"] = this.exhaustiveParallelismStepSize;\n      }\n      if (this.parallelism != '') {\n        data[\"parallelism\"] = this.parallelism;\n      }\n      if (this.increasingStepSize != '') {\n        data[\"increasingStepSize\"] = this.increasingStepSize;\n      }\n      console.log(data);\n      await axios.post(this.url + \":8000/datagen/runplangenerator\", data).then(resp => {\n        this.showProgress = false;\n        var respData = resp.data;\n        console.log(respData);\n        this.snackbar = {\n          view: true,\n          timeout: 8000,\n          text: resp.data.status,\n          color: 'success'\n        };\n        this.showResults = true;\n        this.output = resp.data.output;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async addNodefn() {\n      this.nodes.push({\n        'hostname': this.nodeHostName,\n        'actions': ''\n      });\n    },\n    deleteItem(node) {\n      this.indexOfItem = this.nodes.indexOf(node);\n      this.nodes.splice(this.indexOfItem, 1);\n    },\n    downloadFile() {\n      if (this.deployMode == 'Local') {\n        window.open(this.url + \":8000/datagen/download/local\", '_blank');\n      } else if (this.deployMode == 'Distributed') {\n        window.open(this.url + \":8000/datagen/download/distributed\", '_blank');\n      }\n    },\n    showLogs() {\n      if (this.output != null) {\n        this.showLogsDialogue = true;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAyJA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC,UACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;QAAAC;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACA3B;MACA;QACA2B;QACA3B;MACA;QACA2B;QACA3B;MACA;MACA4B;QACAD;QACA3B;MACA;QACA2B;QACA3B;MACA;QACA2B;QACA3B;MACA;QACA2B;QACA3B;MACA;QACA2B;QACA3B;MACA;IAKA;EACA;EACA6B;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MAEA;QAEAhC;QAEA;UACAA;QACA;QACA;UACAA;QACA;MAEA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MAEAiC;MACA,YACAC,wDACAC;QACA;QACA;QACAF;QACA;UACAG;UACAC;UACAlB;UACAmB;QACA;QACA;QACA;MAEA,GACAC;QACAN;MACA;IAGA;IACA;MACA;QAAA;QAAA;MAAA;IACA;IACAO;MACA;MACA;IACA;IACAC;MAEA;QACAC;MACA;QACAA;MACA;IACA;IACAC;MACA;QACA;MACA;IAEA;EAEA;AACA","names":["name","data","increasingStepSize","showLogsDialogue","output","showResults","showProgress","url","deployMode","mode","templatesTrain","templatesTest","numTop","execTime","enumStrategy","parallelism","exhaustiveParallelismStepSize","isDetermin","useAllOper","headers","text","value","sortable","nodes","addNodeDialog","nodeHostName","trainTemplates","id","testTemplates","computed","snackbar","get","set","methods","console","post","then","view","timeout","color","catch","deleteItem","downloadFile","window","showLogs"],"sourceRoot":"src/views/dashboard","sources":["DataGenerator.vue"],"sourcesContent":["<template>\n    <div>\n        <v-hover v-slot:default=\"{ hover }\">\n            <v-card class=\"my-6 pa-0\" color=\"white\" :elevation=\"hover ? 24 : 6\">\n                <v-card-title>\n                    <v-sheet color=\"primary\" elevation=\"24\"\n                        class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                        <h3>Data Generator</h3>\n                    </v-sheet>\n                </v-card-title>\n                <v-card-subtitle>\n                    Implementing the new zero-shot generator flink architecture\n                </v-card-subtitle>\n                <v-card-text class=\"mt-6\">\n                    <v-container>\n                        <v-card flat>\n                            <v-card-text class=\"text-align ma-2\">\n                                <v-form>\n                                    <v-row>\n                                        <v-col>\n                                            <v-select v-model=\"deployMode\" label=\"Deployment Mode\"\n                                                :items=\"['Local', 'Distributed']\" outlined>\n\n                                            </v-select>\n                                        </v-col>\n                                    </v-row>\n                                    <v-row>\n                                        <v-col>\n                                            <v-select v-model=\"mode\" label=\"Mode\"\n                                                :items=\"['train', 'test', 'randomspikedetection', 'filespikedetection', 'alternativespikedetection', 'smartgrid', 'advertisement', 'searchheuristic']\"\n                                                outlined></v-select>\n                                        </v-col>\n                                        <v-col v-if=\"mode == 'train'\">\n                                            <v-select v-model=\"templatesTrain\" label=\"templates\" :items=\"trainTemplates\"\n                                                item-text=\"name\" item-value=\"id\" outlined multiple></v-select>\n                                        </v-col>\n                                        <v-col v-if=\"mode == 'test'\">\n\n                                            <v-select v-model=\"templatesTest\" label=\"templates\" :items=\"testTemplates\"\n                                                item-text=\"name\" item-value=\"id\" outlined></v-select>\n                                        </v-col>\n                                    </v-row>\n\n                                    <v-row>\n                                        <v-col>\n                                            <v-text-field outlined label=\"Number of topologies\" v-model=\"numTop\"\n                                                type=\"number\" min=\"0\">\n\n                                            </v-text-field>\n                                        </v-col>\n                                        <v-col>\n                                            <v-text-field outlined label=\"execution time for a query in seconds\"\n                                                v-model=\"execTime\" type=\"number\" min=\"0\">\n\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                    <v-row>\n                                        <v-col>\n                                            <v-select v-model=\"enumStrategy\" label=\"Enumeration Strategy\"\n                                                :items=\"['RANDOM', 'EXHAUSTIV', 'RULEBASED', 'MINAVGMAX', 'INCREASING', 'PARAMETERBASED', 'SHPREDICTIVECOMPARISON']\"\n                                                outlined></v-select>\n                                        </v-col>\n                                        <v-col v-if=\"enumStrategy == 'PARAMETERBASED'\">\n                                            <v-text-field outlined label=\"Parallelism\" v-model=\"parallelism\" type=\"number\"\n                                                min=\"0\"></v-text-field>\n                                        </v-col>\n                                        <v-col v-if=\"enumStrategy == 'EXHAUSTIV'\">\n                                            <v-text-field outlined label=\"Exhaustive Parallelism Step Size\"\n                                                v-model=\"exhaustiveParallelismStepSize\" type=\"number\" min=\"0\"></v-text-field>\n                                        </v-col>\n                                        <v-col v-if=\"enumStrategy == 'INCREASING'\">\n                                            <v-text-field outlined label=\"Increasing Parallelism Step Size\"\n                                                v-model=\"increasingStepSize\" type=\"number\" min=\"0\"></v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                    <v-switch v-if=\"mode == 'train' && enumStrategy != ''\" v-model=\"isDetermin\"\n                                        label=\"Deterministic\" color=\"success\" value=\"true\" hide-details></v-switch>\n                                    <v-switch v-if=\"mode == 'train' && enumStrategy != ''\" v-model=\"useAllOper\"\n                                        label=\"Use all operators\" color=\"success\" value=\"true\" hide-details></v-switch>\n\n                                </v-form>\n                            </v-card-text>\n                            <v-card-actions>\n                                <v-spacer></v-spacer>\n                                <v-btn class=\"primary pa-2\" small @click=\"runPlanGeneratorFlink()\">Deploy</v-btn>\n                            </v-card-actions>\n                        </v-card>\n                    </v-container>\n                </v-card-text>\n                <v-card class=\"my-6 pa-0\" color=\"white\" v-if=\"showResults == true\">\n                    <v-card-title>\n                        <v-sheet color=\"primary\" elevation=\"24\"\n                            class=\"justify-center mt-n12 pl-16 pr-16 pt-6 pb-6 rounded  white--text \">\n                            <h3>Results</h3>\n                        </v-sheet>\n                    </v-card-title>\n                    <v-card-text class=\"mt-6\"  style=\"font-size: 20px;\">\n                        Please click on the download button below to get the results.\n                    </v-card-text>\n                        <v-card-actions>\n                            <v-btn variant=\"text\" color=\"success\" @click=\"downloadFile()\">\n                                Download\n                            </v-btn>\n                            <v-btn variant=\"text\" color=\"success\" @click=\"showLogs()\">\n                                Show logs\n                            </v-btn>\n                        </v-card-actions>\n\n                        \n\n\n\n                    \n                </v-card>\n\n            </v-card>\n\n        </v-hover>\n        <v-dialog width=\"50%\" v-model=\"showProgress\">\n            <v-card color=\"primary\">\n                <v-card-title class=\"white--text\">Please wait <v-progress-linear color=\"deep-purple green\" indeterminate\n                        rounded height=\"6\"></v-progress-linear></v-card-title>\n                <v-card-text color=\"primary\">\n                    <v-list dense color=\"primary\" class=\"white--text\">\n                        <v-list-item class=\"white--text\">\n                            Running plan Generator with each topology and template\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            This might take some time.\n                        </v-list-item>\n                        <v-list-item class=\"white--text\">\n                            You can download the results below after the execution is finished.\n                        </v-list-item>\n\n                    </v-list>\n                </v-card-text>\n\n            </v-card>\n        </v-dialog>\n        <v-dialog width=\"50%\" v-model=\"showLogsDialogue\">\n            <v-card color=\"primary\">\n                <v-card-title class=\"white--text\">logs</v-card-title>\n                <v-card-text color=\"primary\" class=\"white--text\">\n                    {{ this.output }}\n                </v-card-text>\n\n            </v-card>\n        </v-dialog>\n        <!-- mdi-download -->\n    </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'DataGenerator',\n    data() {\n        return {\n            increasingStepSize:'',\n            showLogsDialogue: false,\n            output: null,\n            showResults: false,\n            showProgress: false,\n            url: process.env.VUE_APP_URL,\n            deployMode: '',\n            mode: '',\n            templatesTrain: [],\n            templatesTest: '',\n            numTop: '',\n            execTime: '',\n            enumStrategy: '',\n            parallelism: '',\n            exhaustiveParallelismStepSize: '',\n            isDetermin: false, //think about the v-model\n            useAllOper: false, //think about the v-model\n            headers: [\n                { text: 'Node\\'s host name', value: 'hostname' },\n                { text: 'Actions', value: 'actions', sortable: false },\n            ],\n            nodes: [],\n            addNodeDialog: false,\n            nodeHostName: '',\n            trainTemplates: [{\n                id: 'template1',\n                name: 'template1 - linear query',\n            }, {\n                id: 'template2',\n                name: 'template2- two way join',\n            }, {\n                id: 'template3',\n                name: 'template3 - three way join',\n            }],\n            testTemplates: [{\n                id: 'testA',\n                name: 'Tuple width extrapolation',\n            }, {\n                id: 'testB',\n                name: 'Event rate extrapolation',\n            }, {\n                id: 'testC',\n                name: 'Time-based window extrapolation',\n            }, {\n                id: 'testD',\n                name: 'Count-based window extrapolation',\n            }, {\n                id: 'testE',\n                name: 'Synthetic Queries extrapolation',\n            }],\n\n\n\n\n        }\n    },\n    computed: {\n        snackbar: {\n            get() {\n                return this.$store.state.snackbar;\n            },\n            set(value) {\n                this.$store.commit('setSnackbar', value);\n            },\n        }\n    },\n    methods: {\n        async runPlanGeneratorFlink() {\n            this.showProgress = true;\n            var data = {\n                \"deployMode\": this.deployMode,\n                \"mode\": this.mode,\n                \"numberOfTopol\": this.numTop,\n                \"executionTime\": this.execTime,\n                \"enumerationStrategy\": this.enumStrategy,\n            }\n\n            if (this.mode == 'train') {\n\n                data[\"traintempl\"] = this.templatesTrain\n\n                if (this.isDetermin == 'true') {\n                    data[\"deterministic\"] = this.isDetermin\n                }\n                if (this.useAllOper == 'true') {\n                    data[\"useAllOperators\"] = this.useAllOper\n                }\n\n            } else if (this.mode == 'test') {\n                data[\"testtempl\"] = this.templatesTest\n            }\n            if (this.exhaustiveParallelismStepSize != '') {\n                data[\"exhaustiveParallelismStepSize\"] = this.exhaustiveParallelismStepSize\n            }\n            if (this.parallelism != '') {\n                data[\"parallelism\"] = this.parallelism\n            }\n            if (this.increasingStepSize != '') {\n                data[\"increasingStepSize\"] = this.increasingStepSize\n            }\n\n            console.log(data);\n            await axios\n                .post(this.url + \":8000/datagen/runplangenerator\", data)\n                .then((resp) => {\n                    this.showProgress = false;\n                    var respData = resp.data\n                    console.log(respData)\n                    this.snackbar = {\n                        view: true,\n                        timeout: 8000,\n                        text: resp.data.status,\n                        color: 'success'\n                    };\n                    this.showResults = true;\n                    this.output = resp.data.output\n\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n\n\n        },\n        async addNodefn() {\n            this.nodes.push({ 'hostname': this.nodeHostName, 'actions': '' })\n        },\n        deleteItem(node) {\n            this.indexOfItem = this.nodes.indexOf(node)\n            this.nodes.splice(this.indexOfItem, 1)\n        },\n        downloadFile() {\n\n            if (this.deployMode == 'Local') {\n                window.open(this.url + \":8000/datagen/download/local\", '_blank')\n            } else if (this.deployMode == 'Distributed') {\n                window.open(this.url + \":8000/datagen/download/distributed\", '_blank')\n            }\n        },\n        showLogs() {\n            if (this.output != null) {\n                this.showLogsDialogue = true\n            }\n\n        }\n\n    }\n}\n</script>\n<style></style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}